type:t="radar"
name:t="ESD RA-20 S"

transivers{

  search{
    power:r=400.0
    band:i=8
    rcs:r=3.0
    range:r=11000.0
    rangeMax:r=12000.0

    antenna{

      azimuth{
        angleHalfSens:r=5.0
        sideLobesSensitivity:r=-30.0
      }

      elevation{
        angleHalfSens:r=18.0
        sideLobesSensitivity:r=-30.0
      }
    }
  }
}

scanPatterns{

  search{
    type:t="cylinder"
    azimuthLimits:p2=-180.0, 180.0
    elevationLimits:p2=-10.0, 10.0
    yawStabLimit:r=180.0
    pitchStabLimit:r=10.0
    rollStabLimit:r=10.0
    period:r=1.0
    barHeight:r=45.0
    barsCount:i=1
    rowMajor:b=yes
    centerElevation:r=22.5
  }
}

signals{

  search{
    groundClutter:b=no
    friendFoeId:b=yes
    absDopplerSpeed:b=yes

    distance{
      presents:b=yes
      minValue:r=300.0
      maxValue:r=11000.0
      maxUnambiguousValue:r=100000.0
    }

    dopplerSpeed{
      presents:b=yes
      minValue:r=10.0
      maxValue:r=1000.0
      signalWidthMin:r=5.0
      width:r=0.0
    }
  }
}

scanPatternSets{

  search{
    scanPattern1:t="search"
  }
}

scopeRangeSets{

  search{
    range1:r=12000.0
  }
}

fsms{

  main{
    stateInit:t="init"

    actionsTemplates{

      init{

        setEnabled{
          value:b=no
        }

        setCenterAzimuth{
          source:t="constant"
          value:r=0.0
        }

        setCenterElevation{
          source:t="constant"
          value:r=0.0
        }

        setScanPatternSet{
          scanPatternSet:t="search"
        }

        setScopeRangeSet{
          scopeRangeSet:t="search"
        }

        setTransiver{
          transiver:t="search"
        }

        setSignal{
          signal:t="search"
        }

        setTargetDesignationRange{
          azimuthRange:p2=-5.0, 5.0
          distanceRange:p2=0.0, 11000.0
        }
      }

      setStandbyMode{

        setModeName{
          name:t="standby"
        }

        setEnabled{
          value:b=no
        }
      }

      resetStandbyMode{
      }

      setSearchMode{

        setModeName{
          name:t="search"
        }

        setEnabled{
          value:b=yes
        }

        setFsmActive{
          fsm:t="search"
          active:b=yes
        }

        setScanDirectionPhase{
          azimuth:r=-180.0
          elevation:r=0.0
        }
      }

      resetSearchMode{

        clearTargets{
        }

        setFsmActive{
          fsm:t="search"
          active:b=no
        }
      }
    }

    transitions{

      init{
        stateFrom:t="init"
        event:t="init"
        stateTo:t="standby"

        actions{

          init{
          }

          setStandbyMode{
          }
        }
      }

      switchOn{
        stateFrom:t="standby"
        command:t="switch"
        event:t="enable"
        stateTo:t="search"

        actions{

          setSearchMode{
          }
        }
      }

      switchScanPattern{
        stateFrom:t="standby"
        stateFrom:t="search"
        command:t="scanPatternSwitch"

        actions{

          setNextScanPattern{
          }
        }
      }

      switchScopeRange{
        command:t="rangeSwitch"

        actions{

          setNextScopeRange{
          }
        }
      }

      switchingOff{
        stateFrom:t="search"
        command:t="switch"
        event:t="disable"
        stateTo:t="antennaParking"

        actions{

          setFsmActive{
            fsm:t="parkAntenna"
            active:b=yes
          }
        }
      }

      switchOff{
        stateFrom:t="antennaParking"
        event:t="inScanDirectionPhase"
        stateTo:t="standby"

        actions{

          setFsmActive{
            fsm:t="parkAntenna"
            active:b=no
          }

          setScanDirectionPhase{
            azimuth:r=-180.0
            elevation:r=0.0
          }

          setStandbyMode{
          }
        }
      }
    }
  }

  search{
    stateInit:t="search"

    transitions{

      scan{
        event:t="update"

        actions{

          scan{
          }
        }
      }

      detect{
        event:t="targetInSight"

        actions{

          setDistGatePos{
            source:t="continuousScale"
            width:r=0.0
          }

          setRelSpeedGatePos{
            source:t="continuousScale"
            width:r=0.0
          }

          detectTarget{
          }
        }
      }

      addTarget{
        event:t="targetDetected"

        actions{

          addTarget{
          }
        }
      }
    }
  }

  parkAntenna{
    stateInit:t="init"

    transitions{

      checkAntennaParked{
        event:t="update"

        actions{

          checkInScanDirectionPhase{
            azimuth:r=-180.0
            elevation:r=0.0
          }
        }
      }
    }
  }
}