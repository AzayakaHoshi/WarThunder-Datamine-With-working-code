selected_tag:t=""
bin_dump_file:t=""

mission_settings{

  player{
    army:i=1
    wing:t=""
  }

  player_teamB{
    army:i=2
  }

  mission{
    type:t="singleMission"
    level:t="levels/water.bin"
    environment:t="Day"
    weather:t="hazy"
    restoreType:t="attempts"
    optionalTakeOff:b=no
  }

  spectator_points{
  }
}

imports{
}

triggers{
  isCategory:b=yes
  is_enabled:b=yes

  pt_ports_init{
    is_enabled:b=yes
    comments:t=""

    props{
      actionsType:t="PERFORM_ONE_BY_ONE"
      conditionsType:t="ALL"
      enableAfterComplete:b=no
    }

    events{

      initMission{
      }
    }

    conditions{

      varCompareBool{
        var_value:t="pt_is_launch_alowed"
        value:b=yes
        comparasion_func:t="equal"
      }
    }

    actions{

      comment{
        value:t="govorim, chto missiya nachala inicializaciyu"
      }

      comment{
        value:t="loading beh for all port  ships"
      }

      comment{
        value:t="zapuskaem generaciyu spavnov  igrokov v portah"
      }

      comment{
        value:t="zapuskaem generaciyu razmerov portov"
      }

      comment{
        value:t=""
      }

      varSetBool{
        value:b=no
        var:t="b_mission_init_ends"
      }

      unitLoadBehTree{
        name:t="shipMissionUnit"
        objects:t="pt_all_ships_squad"
      }

      triggerEnable{
        target:t="pt_generate_spawns_start"
      }

      triggerEnable{
        target:t="pt_generate_size_t1_start"
      }

      unitSetProperties{
        object:t="all_port_defenders_squad"
        object_marking:i=0
        object_var_name:t=""
        object_var_comp_op:t="equal"
        object_var_value:i=0
        targetAir:b=no
        checkVisibilityTarget:b=yes
      }
    }

    else_actions{
    }
  }

  pt_init_end{
    is_enabled:b=no
    comments:t=""

    props{
      actionsType:t="PERFORM_ONE_BY_ONE"
      conditionsType:t="ALL"
      enableAfterComplete:b=no
    }

    events{

      periodicEvent{
        time:r=1.0
      }
    }

    conditions{

      varCompareInt{
        var_value:t="pt_generates_ship_end_counter"
        value:i=1
        comparasion_func:t="more"
      }
    }

    actions{

      comment{
        value:t="govorim, chto  nachal~'naya inicializaciya zakonchena"
      }

      comment{
        value:t="zapuskaem osnovnuyu chast~'"
      }

      comment{
        value:t="stavim defoltnye spavny dlya korablej"
      }

      varSetBool{
        value:b=yes
        var:t="b_mission_init_ends"
      }

      triggerEnable{
        target:t="pt_main_part_start"
      }

      triggerEnable{
        target:t="pt_default_ship_spawns"
      }
    }

    else_actions{
    }
  }

  pt_default_ship_spawns{
    is_enabled:b=no
    comments:t=""

    props{
      actionsType:t="PERFORM_ONE_BY_ONE"
      conditionsType:t="ALL"
      enableAfterComplete:b=no
    }

    events{

      periodicEvent{
        time:r=1.0
      }
    }

    conditions{

      varCompareBool{
        var_value:t="pt_ship_spawn_enable"
        value:b=yes
        comparasion_func:t="equal"
      }
    }

    actions{

      comment{
        value:t="stavim defoltnye spavny dlya korablej komandy A"
      }

      comment{
        value:t="stavim defoltnye spavny dlya korablej komandy B"
      }

      missionMarkAsRespawnPoint{
        loc_name:t="missions/pt_sea_spawn_01"
        spawnEffect:b=no
        isStrictSpawn:b=no
        resetStrictSpawnIndex:b=no
        isAirfield:b=no
        isUnit:b=no
        useExisting:b=no
        isIndividual:b=no
        onlyOnePlayerPerSpawnPoint:b=no
        removeAreas:b=no
        replaceAreas:b=no
        canSpawnOnNeutral:b=no
        showOnMap:b=yes
        radius:r=-1.0
        forceCreate:b=no
        ignoreTeamsOnReuse:b=no
        target:t="pt_t1_players_spawn_01"
        team:t="A"

        tags{
          type_bomber:b=no
          type_fighter:b=no
          type_assault:b=no
          helicopter:b=no
          tank:b=no
          ship:b=yes
          boat:b=yes
          type_frigate:b=yes
          type_destroyer:b=yes
          type_light_cruiser:b=yes
          type_heavy_cruiser:b=yes
          type_battlecruiser:b=yes
          type_battleship:b=yes
        }
      }

      missionMarkAsRespawnPoint{
        loc_name:t="missions/pt_sea_spawn_02"
        spawnEffect:b=no
        isStrictSpawn:b=no
        resetStrictSpawnIndex:b=no
        isAirfield:b=no
        isUnit:b=no
        useExisting:b=no
        isIndividual:b=no
        onlyOnePlayerPerSpawnPoint:b=no
        removeAreas:b=no
        replaceAreas:b=no
        canSpawnOnNeutral:b=no
        showOnMap:b=yes
        radius:r=-1.0
        forceCreate:b=no
        ignoreTeamsOnReuse:b=no
        target:t="pt_t1_players_spawn_02"
        team:t="A"

        tags{
          type_bomber:b=no
          type_fighter:b=no
          type_assault:b=no
          helicopter:b=no
          tank:b=no
          ship:b=yes
          boat:b=yes
          type_frigate:b=yes
          type_destroyer:b=yes
          type_light_cruiser:b=yes
          type_heavy_cruiser:b=yes
          type_battlecruiser:b=yes
          type_battleship:b=yes
        }
      }

      missionMarkAsRespawnPoint{
        loc_name:t="missions/pt_sea_spawn_01"
        spawnEffect:b=no
        isStrictSpawn:b=no
        resetStrictSpawnIndex:b=no
        isAirfield:b=no
        isUnit:b=no
        useExisting:b=no
        isIndividual:b=no
        onlyOnePlayerPerSpawnPoint:b=no
        removeAreas:b=no
        replaceAreas:b=no
        canSpawnOnNeutral:b=no
        showOnMap:b=yes
        radius:r=-1.0
        forceCreate:b=no
        ignoreTeamsOnReuse:b=no
        target:t="pt_t2_players_spawn_01"
        team:t="B"

        tags{
          type_bomber:b=no
          type_fighter:b=no
          type_assault:b=no
          helicopter:b=no
          tank:b=no
          ship:b=yes
          boat:b=yes
          type_frigate:b=yes
          type_destroyer:b=yes
          type_light_cruiser:b=yes
          type_heavy_cruiser:b=yes
          type_battlecruiser:b=yes
          type_battleship:b=yes
        }
      }

      missionMarkAsRespawnPoint{
        loc_name:t="missions/pt_sea_spawn_02"
        spawnEffect:b=no
        isStrictSpawn:b=no
        resetStrictSpawnIndex:b=no
        isAirfield:b=no
        isUnit:b=no
        useExisting:b=no
        isIndividual:b=no
        onlyOnePlayerPerSpawnPoint:b=no
        removeAreas:b=no
        replaceAreas:b=no
        canSpawnOnNeutral:b=no
        showOnMap:b=yes
        radius:r=-1.0
        forceCreate:b=no
        ignoreTeamsOnReuse:b=no
        target:t="pt_t2_players_spawn_02"
        team:t="B"

        tags{
          type_bomber:b=no
          type_fighter:b=no
          type_assault:b=no
          helicopter:b=no
          tank:b=no
          ship:b=yes
          boat:b=yes
          type_frigate:b=yes
          type_destroyer:b=yes
          type_light_cruiser:b=yes
          type_heavy_cruiser:b=yes
          type_battlecruiser:b=yes
          type_battleship:b=yes
        }
      }
    }

    else_actions{
    }
  }

  pt_main_part_start{
    is_enabled:b=no
    comments:t=""

    props{
      actionsType:t="PERFORM_ONE_BY_ONE"
      conditionsType:t="ALL"
      enableAfterComplete:b=no
    }

    events{

      periodicEvent{
        time:r=1.0
      }
    }

    conditions{

      varCompareBool{
        var_value:t="b_mission_init_ends"
        value:b=yes
        comparasion_func:t="equal"
      }
    }

    actions{

      comment{
        value:t="inicializaciya missii zakonchilas~'. startuem osnovnye servisy"
      }

      triggerEnable{
        target:t="pt_attack_port_start"
        target:t="pt_capture_port_start"
        target:t="pt_ports_turning_start"
      }
    }

    else_actions{
    }
  }

  pt_ports_generate_spawns{
    isCategory:b=yes
    is_enabled:b=yes

    pt_generate_spawns_start{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{
      }

      actions{

        varSetInt{
          value:i=0
          var:t="pt_generate_spawns_cur_idx"
        }

        triggerEnable{
          target:t="pt_generate_spawns_rotator"
        }
      }

      else_actions{

        triggerDisable{
          target:t="pt_generate_spawns_start"
        }
      }
    }

    pt_generate_spawns_rotator{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_spawns_cur_idx"
          value:i=0
          comparasion_func:t="less"
          var_value_other:t="pt_port_max_num"
        }
      }

      actions{

        comment{
          value:t="indeks v diapazone. mozhno rabotat~'"
        }

        comment{
          value:t="sozdaem imya peremennoj armii"
        }

        comment{
          value:t="poluchaem znachenie armii"
        }

        comment{
          value:t="sozdaem defoltnoe imya skvada so spavn zonami"
        }

        comment{
          value:t="sozdaem defoltnoe imya spavna"
        }

        comment{
          value:t="sobiraem defoltnuyu stroku lokalizacii"
        }

        comment{
          value:t="sobiraem stroku lokalizacii dlya samoletov"
        }

        comment{
          value:t=""
        }

        comment{
          value:t="imya zony zahvata"
        }

        comment{
          value:t="sozdaem imya skvada krejcerov so spavn zonami"
        }

        comment{
          value:t="sozdaem imya skvada esmincev so spavn zonami"
        }

        comment{
          value:t="sobiraem stroku lokalizacii dlya kruzerov"
        }

        comment{
          value:t="sobiraem stroku lokalizacii dlya esmincev"
        }

        comment{
          value:t="stavim kruzernyj spavn dlya igrokov v zavisimosti ot togo, ch~'ya armiya"
        }

        comment{
          value:t="sozdaem imya rearm zony dlya komandy A"
        }

        comment{
          value:t="sozdaem imya rearm zony dlya komandy A"
        }

        comment{
          value:t="sozdaem imya zashchitnikov"
        }

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_generate_spawns_cur_idx"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_generate_spawns_army_var_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_generate_spawns_squad_name"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_generate_spawns_port_var_name"
        }

        varSetString{
          value:t="missions/"
          var:t="pt_generate_spawn_loc_string"
        }

        varSetString{
          value:t=""
          var:t="pt_generate_spawn_loc_string_air"
          input_var:t="pt_generate_spawn_loc_string"
        }

        varSetString{
          value:t="port_"
          var:t="pt_generate_spawns_port_air_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_generate_capture_area_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_generate_spawns_cruisers_squad_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_generate_spawns_destroyers_squad_name"
        }

        varSetString{
          value:t="missions/"
          var:t="pt_generate_spawn_cruisers_loc_string"
        }

        varSetString{
          value:t="missions/"
          var:t="pt_generate_spawn_destroyers_loc_string"
        }

        varSetString{
          value:t="port_"
          var:t="pt_generate_defenders_name"
        }

        varAddString{
          value:t="@pt_generate_spawns_cur_idx"
          digits:i=2
          var:t="pt_generate_spawns_army_var_name"
        }

        varAddString{
          value:t="_army"
          digits:i=0
          var:t="pt_generate_spawns_army_var_name"
        }

        varAddString{
          value:t="@pt_generate_spawns_cur_idx"
          digits:i=2
          var:t="pt_generate_spawns_squad_name"
        }

        varAddString{
          value:t="_players_spawns_squad"
          digits:i=0
          var:t="pt_generate_spawns_squad_name"
        }

        varAddString{
          value:t="@pt_generate_spawns_cur_idx"
          digits:i=2
          var:t="pt_generate_spawns_port_var_name"
        }

        varAddString{
          value:t="_name"
          digits:i=0
          var:t="pt_generate_spawns_port_var_name"
        }

        varAddString{
          value:t=""
          digits:i=0
          var:t="pt_generate_spawn_loc_string"
          input_var:t="@pt_generate_spawns_port_var_name"
        }

        varAddString{
          value:t="_air"
          digits:i=0
          var:t="pt_generate_spawn_loc_string_air"
        }

        varAddString{
          value:t="@pt_generate_spawns_cur_idx"
          digits:i=2
          var:t="pt_generate_spawns_port_air_name"
        }

        varAddString{
          value:t="@pt_generate_spawns_cur_idx"
          digits:i=2
          var:t="pt_generate_capture_area_name"
        }

        varAddString{
          value:t="@pt_generate_spawns_cur_idx"
          digits:i=2
          var:t="pt_generate_spawns_cruisers_squad_name"
        }

        varAddString{
          value:t="_player_cruisers_spawns_squad"
          digits:i=0
          var:t="pt_generate_spawns_cruisers_squad_name"
        }

        varAddString{
          value:t="@pt_generate_spawns_cur_idx"
          digits:i=2
          var:t="pt_generate_spawns_destroyers_squad_name"
        }

        varAddString{
          value:t="_player_destroyers_spawns_squad"
          digits:i=0
          var:t="pt_generate_spawns_destroyers_squad_name"
        }

        varAddString{
          value:t=""
          digits:i=0
          var:t="pt_generate_spawn_cruisers_loc_string"
          input_var:t="@pt_generate_spawns_port_var_name"
        }

        varAddString{
          value:t="_cruisers"
          digits:i=0
          var:t="pt_generate_spawn_cruisers_loc_string"
        }

        varAddString{
          value:t=""
          digits:i=0
          var:t="pt_generate_spawn_destroyers_loc_string"
          input_var:t="@pt_generate_spawns_port_var_name"
        }

        varAddString{
          value:t="_destroyers"
          digits:i=0
          var:t="pt_generate_spawn_destroyers_loc_string"
        }

        varAddString{
          value:t="_t1_rearm_area"
          digits:i=0
          var:t="pt_generate_rearm_t1_area_name"
        }

        varAddString{
          value:t="_t2_rearm_area"
          digits:i=0
          var:t="pt_generate_rearm_t2_area_name"
        }

        varAddString{
          value:t="@pt_generate_spawns_cur_idx"
          digits:i=2
          var:t="pt_generate_defenders_name"
        }

        varAddString{
          value:t="_defenders"
          digits:i=0
          var:t="pt_generate_defenders_name"
        }

        varSetInt{
          value:i=0
          var:t="pt_generate_spawns_army_idx"
          input_var:t="@pt_generate_spawns_army_var_name"
        }

        triggerEnable{
          target:t="pt_generate_spawns_cruisers_and_destroyers_check_exist"
        }

        varGetStringValue{
          from_var_name:t="pt_generate_capture_area_name"
          var:t="pt_generate_rearm_t1_area_name"
        }

        varGetStringValue{
          from_var_name:t="pt_generate_capture_area_name"
          var:t="pt_generate_rearm_t2_area_name"
        }
      }

      else_actions{

        comment{
          value:t="indeks vyshel iz diapazona. zakanchivaem rabotu"
        }

        triggerDisable{
          target:t="pt_generate_spawns_rotator"
        }
      }
    }

    pt_generate_spawns_cruisers_and_destroyers_check_exist{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        objectExists{
          target:t="@pt_generate_spawns_cruisers_squad_name"
          type:t="squad"
        }

        objectExists{
          target:t="@pt_generate_spawns_destroyers_squad_name"
          type:t="squad"
        }

        varCompareBool{
          var_value:t="pt_ship_spawn_enable"
          value:b=yes
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="est~' skvad dlya krejserov i esmincev"
        }

        triggerEnable{
          target:t="pt_generate_spawns_cruisers_place"
        }
      }

      else_actions{

        comment{
          value:t="net spavna dlya krejserov i esmincev - srazu idem na defoltnyj spavn"
        }

        triggerEnable{
          target:t="pt_generate_spawns_check_before_place"
        }
      }
    }

    pt_generate_spawns_cruisers_place{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_spawns_army_idx"
          value:i=1
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="stavim spavn dlya komandy A"
        }

        comment{
          value:t="stavim spavn dlya esmincev"
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_generate_spawn_cruisers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_generate_spawns_cruisers_squad_name"
          team:t="A"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=no
            type_frigate:b=no
            type_destroyer:b=no
            type_light_cruiser:b=yes
            type_heavy_cruiser:b=yes
            type_battlecruiser:b=yes
            type_battleship:b=yes
          }
        }

        triggerEnable{
          target:t="pt_generate_spawns_destroyers_place"
        }
      }

      else_actions{

        comment{
          value:t="stavim spavn dlya komandy B"
        }

        comment{
          value:t="stavim spavn dlya esmincev"
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_generate_spawn_cruisers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=no
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_generate_spawns_cruisers_squad_name"
          team:t="B"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=no
            type_frigate:b=no
            type_destroyer:b=no
            type_light_cruiser:b=yes
            type_heavy_cruiser:b=yes
            type_battlecruiser:b=yes
            type_battleship:b=yes
          }
        }

        triggerEnable{
          target:t="pt_generate_spawns_destroyers_place"
        }
      }
    }

    pt_generate_spawns_destroyers_place{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_spawns_army_idx"
          value:i=1
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="stavim spavn dlya komandy A"
        }

        comment{
          value:t="stavim zonu zahvata i spavny dlya samoletov"
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_generate_spawn_destroyers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_generate_spawns_destroyers_squad_name"
          team:t="A"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=yes
            type_frigate:b=yes
            type_destroyer:b=yes
            type_light_cruiser:b=no
            type_heavy_cruiser:b=no
            type_battlecruiser:b=no
            type_battleship:b=no
          }
        }

        triggerEnable{
          target:t="pt_generate_spawns_capture_zone_set"
        }
      }

      else_actions{

        comment{
          value:t="stavim spavn dlya komandy B"
        }

        comment{
          value:t="stavim zonu zahvata i spavn dlya samoletov"
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_generate_spawn_destroyers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=no
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_generate_spawns_destroyers_squad_name"
          team:t="B"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=yes
            type_frigate:b=yes
            type_destroyer:b=yes
            type_light_cruiser:b=no
            type_heavy_cruiser:b=no
            type_battlecruiser:b=no
            type_battleship:b=no
          }
        }

        triggerEnable{
          target:t="pt_generate_spawns_capture_zone_set"
        }
      }
    }

    pt_generate_spawns_check_before_place{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="pt_ship_spawn_enable"
          value:b=yes
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="spawns enabled"
        }

        triggerEnable{
          target:t="pt_generate_spawns_place"
        }
      }

      else_actions{

        comment{
          value:t="spawns not allowed. placing capture zones"
        }

        triggerEnable{
          target:t="pt_generate_spawns_capture_zone_set"
        }
      }
    }

    pt_generate_spawns_place{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_spawns_army_idx"
          value:i=1
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="stavim spavn dlya komandy A"
        }

        comment{
          value:t="stavim zonu zahvata i spavny dlya samoletov"
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_generate_spawn_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_generate_spawns_squad_name"
          team:t="A"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=yes
          }
        }

        triggerEnable{
          target:t="pt_generate_spawns_capture_zone_set"
        }
      }

      else_actions{

        comment{
          value:t="stavim spavn dlya komandy B"
        }

        comment{
          value:t="stavim zonu zahvata i spavny dlya samoletov"
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_generate_spawn_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=no
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_generate_spawns_squad_name"
          team:t="B"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=yes
          }
        }

        triggerEnable{
          target:t="pt_generate_spawns_capture_zone_set"
        }
      }
    }

    pt_generate_spawns_capture_zone_set{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_spawns_army_idx"
          value:i=1
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="stavim spavn dlya komandy A"
        }

        comment{
          value:t="idem dal~'she po ciklu"
        }

        missionMarkAsCaptureZone{
          army:i=1
          timeMultiplier:r=1.0
          disableZone:b=no
          name_for_respawn_base:t=""
          target:t="@pt_generate_capture_area_name"
          canCaptureOnGround:b=yes
          playAirfieldSound:b=no
          canCaptureInAir:b=no
          canCaptureByGM:b=yes
          onlyPlayersCanCapture:b=no
          useHUDMarkers:b=yes
          captureNoPenalty:b=yes
          showBorderOnMap:b=no

          zoneDefenders{
            defender:t="@pt_generate_defenders_name"
          }

          capture_tags{
            type_hydroplane:b=yes
            ship:b=yes
            boat:b=yes
          }
        }

        missionMarkAsRearmZone{
          army:i=1
          area_name:t="@pt_generate_rearm_t1_area_name"
          enabled:b=yes
          restoreWhenNoAmmoLeft:b=no
          hideMarkers:b=yes

          tags{
            type_hydroplane:b=yes
          }

          repair_tags{
            type_hydroplane:b=yes
          }
        }

        triggerEnable{
          target:t="pt_generate_spawns_place_check_air"
        }

        missionMakeTorpedoNet{
          object:t="@pt_generate_capture_area_name"
        }
      }

      else_actions{

        comment{
          value:t="stavim spavn dlya komandy B"
        }

        comment{
          value:t="idem dal~'she po ciklu"
        }

        missionMarkAsCaptureZone{
          army:i=2
          timeMultiplier:r=1.0
          disableZone:b=no
          name_for_respawn_base:t=""
          target:t="@pt_generate_capture_area_name"
          canCaptureOnGround:b=yes
          playAirfieldSound:b=no
          canCaptureInAir:b=no
          canCaptureByGM:b=yes
          onlyPlayersCanCapture:b=no
          useHUDMarkers:b=yes
          captureNoPenalty:b=yes
          showBorderOnMap:b=no

          zoneDefenders{
            defender:t="@pt_generate_defenders_name"
          }

          capture_tags{
            type_hydroplane:b=yes
            ship:b=yes
            boat:b=yes
          }
        }

        missionMarkAsRearmZone{
          army:i=2
          area_name:t="@pt_generate_rearm_t2_area_name"
          enabled:b=yes
          restoreWhenNoAmmoLeft:b=no
          hideMarkers:b=yes

          tags{
            type_hydroplane:b=yes
          }

          repair_tags{
            type_hydroplane:b=yes
          }
        }

        triggerEnable{
          target:t="pt_generate_spawns_place_check_air"
        }

        missionMakeTorpedoNet{
          object:t="@pt_generate_capture_area_name"
        }
      }
    }

    pt_generate_spawns_place_check_air{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="pt_port_additional_air_spawns"
          value:b=yes
          comparasion_func:t="equal"
        }
      }

      actions{

        triggerEnable{
          target:t="pt_generate_spawns_place_air"
        }
      }

      else_actions{

        triggerEnable{
          target:t="pt_generate_spawns_rotator"
        }
      }
    }

    pt_generate_spawns_place_air{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_spawns_army_idx"
          value:i=1
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="sozdaem spavn dlya samoletov"
        }

        comment{
          value:t="idem dal~'she po ciklu"
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_generate_spawn_loc_string_air"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=no
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_generate_spawns_port_air_name"
          team:t="A"
          spawnOffset:p3=-3000.0, 2000.0, 0.0

          tags{
            type_bomber:b=yes
            type_fighter:b=yes
            type_assault:b=yes
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }

        triggerEnable{
          target:t="pt_generate_spawns_rotator"
        }
      }

      else_actions{

        comment{
          value:t="stavim spavn dlya komandy B"
        }

        comment{
          value:t="idem dal~'she po ciklu"
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_generate_spawn_loc_string_air"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_generate_spawns_port_air_name"
          team:t="B"
          spawnOffset:p3=-3000.0, 2000.0, 0.0

          tags{
            type_bomber:b=yes
            type_fighter:b=yes
            type_assault:b=yes
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }

        triggerEnable{
          target:t="pt_generate_spawns_rotator"
        }
      }
    }
  }

  pt_ports_turning_spawns{
    isCategory:b=yes
    is_enabled:b=yes

    pt_ports_turning_start{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="pt_ship_spawn_enable"
          value:b=yes
          comparasion_func:t="equal"
        }
      }

      actions{

        varSetInt{
          value:i=0
          var:t="pt_turning_spawns_cur_idx"
        }

        triggerEnable{
          target:t="pt_ports_turning_rotator"
        }
      }

      else_actions{
      }
    }

    pt_ports_turning_rotator{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_turning_spawns_cur_idx"
          value:i=0
          comparasion_func:t="less"
          var_value_other:t="pt_port_max_num"
        }
      }

      actions{

        comment{
          value:t="indeks v diapazone. mozhno rabotat~'"
        }

        comment{
          value:t="sozdaem imya peremennoj armii"
        }

        comment{
          value:t="poluchaem znachenie armii"
        }

        comment{
          value:t="sozdaem imya defoltnogo skvada so spavn zonami"
        }

        comment{
          value:t="sozdaeim imya spavna"
        }

        comment{
          value:t="sobiraem stroku lokalizacii"
        }

        comment{
          value:t="sobiraem stroku lokalizacii dlya samoletov"
        }

        comment{
          value:t=""
        }

        comment{
          value:t="imyya zony zahvata"
        }

        comment{
          value:t="sozdaem imya skvada krejserov so spavn zonami"
        }

        comment{
          value:t="sozdaem imya skvada esmincev so spavn zonami"
        }

        comment{
          value:t="sobiraem stroku lokalizacii dlya krejserov"
        }

        comment{
          value:t="sobiraem stroku lokalizacii dlya esmincev"
        }

        comment{
          value:t="sobiraem imya peremennoj hranyashchej znachenie tajmera"
        }

        comment{
          value:t="sobiraem imya skvada zashchitnikov porta"
        }

        comment{
          value:t="stavim spavn dlya igrokov v zavisimosti ot togo, ch~'ya armiya"
        }

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_turning_spawns_cur_idx"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_turning_spawns_army_var_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_turning_spawns_squad_name"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_turning_spawns_port_var_name"
        }

        varSetString{
          value:t="missions/"
          var:t="pt_turning_spawns_loc_string"
        }

        varSetString{
          value:t=""
          var:t="pt_turning_spawns_loc_string_air"
          input_var:t="pt_turning_spawns_loc_string"
        }

        varSetString{
          value:t="port_"
          var:t="pt_turning_spawns_port_air_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_turning_capture_area_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_turning_spawns_cruisers_squad_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_turning_spawns_destroyers_squad_name"
        }

        varSetString{
          value:t="missions/"
          var:t="pt_turning_spawns_cruisers_loc_string"
        }

        varSetString{
          value:t="missions/"
          var:t="pt_turning_spawns_destroyers_loc_string"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_port_turning_restore_timer_var_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_port_turning_defenders_squad_name"
        }

        varAddString{
          value:t="@pt_turning_spawns_cur_idx"
          digits:i=2
          var:t="pt_turning_spawns_army_var_name"
        }

        varAddString{
          value:t="_army"
          digits:i=0
          var:t="pt_turning_spawns_army_var_name"
        }

        varAddString{
          value:t="@pt_turning_spawns_cur_idx"
          digits:i=2
          var:t="pt_turning_spawns_squad_name"
        }

        varAddString{
          value:t="_players_spawns_squad"
          digits:i=0
          var:t="pt_turning_spawns_squad_name"
        }

        varAddString{
          value:t="@pt_turning_spawns_cur_idx"
          digits:i=2
          var:t="pt_turning_spawns_port_var_name"
        }

        varAddString{
          value:t="_name"
          digits:i=0
          var:t="pt_turning_spawns_port_var_name"
        }

        varAddString{
          value:t=""
          digits:i=0
          var:t="pt_turning_spawns_loc_string"
          input_var:t="@pt_turning_spawns_port_var_name"
        }

        varAddString{
          value:t="_air"
          digits:i=0
          var:t="pt_turning_spawns_loc_string_air"
        }

        varAddString{
          value:t="@pt_turning_spawns_cur_idx"
          digits:i=2
          var:t="pt_turning_spawns_port_air_name"
        }

        varAddString{
          value:t="@pt_turning_spawns_cur_idx"
          digits:i=2
          var:t="pt_turning_capture_area_name"
        }

        varAddString{
          value:t="@pt_turning_spawns_cur_idx"
          digits:i=2
          var:t="pt_turning_spawns_cruisers_squad_name"
        }

        varAddString{
          value:t="_player_cruisers_spawns_squad"
          digits:i=0
          var:t="pt_turning_spawns_cruisers_squad_name"
        }

        varAddString{
          value:t="@pt_turning_spawns_cur_idx"
          digits:i=2
          var:t="pt_turning_spawns_destroyers_squad_name"
        }

        varAddString{
          value:t="_player_destroyers_spawns_squad"
          digits:i=0
          var:t="pt_turning_spawns_destroyers_squad_name"
        }

        varAddString{
          value:t=""
          digits:i=0
          var:t="pt_turning_spawns_cruisers_loc_string"
          input_var:t="@pt_turning_spawns_port_var_name"
        }

        varAddString{
          value:t="_cruisers"
          digits:i=0
          var:t="pt_turning_spawns_cruisers_loc_string"
        }

        varAddString{
          value:t=""
          digits:i=0
          var:t="pt_turning_spawns_destroyers_loc_string"
          input_var:t="@pt_turning_spawns_port_var_name"
        }

        varAddString{
          value:t="_destroyers"
          digits:i=0
          var:t="pt_turning_spawns_destroyers_loc_string"
        }

        varAddString{
          value:t="@pt_turning_spawns_cur_idx"
          digits:i=2
          var:t="pt_port_turning_restore_timer_var_name"
        }

        varAddString{
          value:t="_restore_timer"
          digits:i=2
          var:t="pt_port_turning_restore_timer_var_name"
        }

        varAddString{
          value:t="@pt_turning_spawns_cur_idx"
          digits:i=2
          var:t="pt_port_turning_defenders_squad_name"
        }

        varAddString{
          value:t="_defenders"
          digits:i=0
          var:t="pt_port_turning_defenders_squad_name"
        }

        varSetInt{
          value:i=0
          var:t="pt_turning_spawns_army_idx"
          input_var:t="@pt_turning_spawns_army_var_name"
        }

        triggerEnable{
          target:t="pt_ports_turning_army_check"
        }

        __triggerEnable{
          target:t="pt_port_turning_restore_timer_change"
        }
      }

      else_actions{

        comment{
          value:t="indeks vyshel iz diapazona. idem dal~'she po ciklu"
        }

        triggerEnable{
          target:t="pt_ports_turning_start"
        }
      }
    }

    pt_ports_turning_army_check{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="@pt_turning_spawns_army_var_name"
          value:i=1
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="armiya 1"
        }

        triggerEnable{
          target:t="pt_port_turning_t1_enemy_at_zone"
        }
      }

      else_actions{

        comment{
          value:t="armiya 2"
        }

        triggerEnable{
          target:t="pt_port_turning_t2_enemy_at_zone"
        }
      }
    }

    pt_port_turning_t1_enemy_at_zone{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ANY"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{
      }

      actions{

        triggerEnable{
          target:t="pt_port_turning_t1_players_t1_count"
        }
      }

      else_actions{
      }
    }

    pt_port_turning_t1_enemy_at_zone_air_spawn{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="pt_port_additional_air_spawns"
          value:b=yes
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="igroki v zone. pryachem spavn"
        }

        __missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_loc_string_air"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_port_air_name"
          team:t="A"
          spawnOffset:p3=-3000.0, 2000.0, 0.0

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            none_can_spawn:b=yes
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }
      }

      else_actions{
      }
    }

    pt_port_turning_t1_enemy_leave_zone{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        missionIsZoneCaptured{
          target:t="@pt_turning_capture_area_name"
          army:i=1
        }

        varCompareInt{
          var_value:t="pt_t1_port_units_t2_count"
          value:i=0
          comparasion_func:t="notMore"
          var_value_other:t="pt_t1_port_units_t1_count"
        }
      }

      actions{

        comment{
          value:t="umen~'shaem tajmer vosstanovleniya beregovyh ukreplenij"
        }

        comment{
          value:t="proveryaem ne pora li vosstanovit~' zashchitnika"
        }

        comment{
          value:t="proyavlyaem spavn"
        }

        comment{
          value:t="proveryaems pavn samoletov"
        }

        varModify{
          operator:t="add"
          value:r=-1.0
          var:t="@pt_port_turning_restore_timer_var_name"
        }

        triggerEnable{
          target:t="pt_port_turning_restore_timer_check"
        }

        triggerEnable{
          target:t="pt_port_turning_t1_cruisers_and_destroyers_spawns_on"
        }

        triggerEnable{
          target:t="pt_port_turning_t1_enemy_leave_zone_air_spawn"
        }
      }

      else_actions{

        comment{
          value:t=""
        }

        triggerEnable{
          target:t="pt_ports_turning_rotator"
        }
      }
    }

    pt_port_turning_t1_enemy_leave_zone_air_spawn{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="pt_port_additional_air_spawns"
          value:b=yes
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="igroki v zone. pryachem spavn"
        }

        __missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_loc_string_air"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_port_air_name"
          team:t="A"
          spawnOffset:p3=-3000.0, 2000.0, 0.0

          tags{
            type_bomber:b=yes
            type_fighter:b=yes
            type_assault:b=yes
            none_can_spawn:b=no
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }
      }

      else_actions{
      }
    }

    pt_port_turning_t2_enemy_at_zone{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ANY"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{
      }

      actions{

        triggerEnable{
          target:t="pt_port_turning_t2_players_t1_count"
        }
      }

      else_actions{
      }
    }

    pt_port_turning_t2_enemy_at_zone_air_spawn{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="pt_port_additional_air_spawns"
          value:b=yes
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="igroki v zone. pryachem spavn"
        }

        __missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_loc_string_air"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_port_air_name"
          team:t="B"
          spawnOffset:p3=-3000.0, 2000.0, 0.0

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            none_can_spawn:b=yes
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }
      }

      else_actions{
      }
    }

    pt_port_turning_t2_enemy_leave_zone{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        missionIsZoneCaptured{
          target:t="@pt_turning_capture_area_name"
          army:i=2
        }

        varCompareInt{
          var_value:t="pt_t2_port_units_t1_count"
          value:i=0
          comparasion_func:t="notMore"
          var_value_other:t="pt_t2_port_units_t2_count"
        }
      }

      actions{

        comment{
          value:t="umen~'shaem tajmer vosstanovleniya beregovyh ukreplenij"
        }

        comment{
          value:t="proveryaem ne pora li vosstanovit~' zashchitnika"
        }

        comment{
          value:t="igroki v zone. pryachem spavn"
        }

        comment{
          value:t="proveryaem spavn samoletov"
        }

        comment{
          value:t=""
        }

        varModify{
          operator:t="add"
          value:r=-1.0
          var:t="@pt_port_turning_restore_timer_var_name"
        }

        triggerEnable{
          target:t="pt_port_turning_restore_timer_check"
        }

        triggerEnable{
          target:t="pt_port_turning_t2_cruisers_and_destroyers_spawns_on"
        }

        triggerEnable{
          target:t="pt_port_turning_t2_enemy_leave_zone_air_spawn"
        }

        __triggerEnable{
          target:t="pt_ports_turning_rotator"
        }
      }

      else_actions{

        comment{
          value:t=""
        }

        triggerEnable{
          target:t="pt_ports_turning_rotator"
        }
      }
    }

    pt_port_turning_t2_enemy_leave_zone_air_spawn{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="pt_port_additional_air_spawns"
          value:b=yes
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="igroki v zone. pryachem spavn"
        }

        __missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_loc_string_air"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_port_air_name"
          team:t="B"
          spawnOffset:p3=-3000.0, 2000.0, 0.0

          tags{
            type_bomber:b=yes
            type_fighter:b=yes
            type_assault:b=yes
            none_can_spawn:b=no
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }
      }

      else_actions{

        comment{
          value:t=""
        }
      }
    }

    pt_port_turning_t1_cruisers_and_destroyers_spawns_off{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        objectExists{
          target:t="@pt_turning_spawns_cruisers_squad_name"
          type:t="squad"
        }

        objectExists{
          target:t="@pt_turning_spawns_destroyers_squad_name"
          type:t="squad"
        }
      }

      actions{

        comment{
          value:t="est~' spavny krejserov i esmincev ubivaem ih"
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_cruisers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_cruisers_squad_name"
          team:t="A"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            none_can_spawn:b=yes
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_destroyers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_destroyers_squad_name"
          team:t="A"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            none_can_spawn:b=yes
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }

        systemLog{
          value:t="@pt_turning_spawns_cruisers_squad_name"
          logtype:t="screen_and_log"
        }

        systemLog{
          value:t="is off by pt_port_turning_t1_cruisers_and_destroyers_spawns_off"
          logtype:t="screen_and_log"
        }

        systemLog{
          value:t=" "
          logtype:t="screen_and_log"
        }
      }

      else_actions{

        comment{
          value:t="net takih spavnov. pryachem defoltnye"
        }

        triggerEnable{
          target:t="pt_port_turning_t1_default_spawns_off"
        }
      }
    }

    pt_port_turning_t1_default_spawns_off{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{
      }

      actions{

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_squad_name"
          team:t="A"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            none_can_spawn:b=yes
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }
      }

      else_actions{
      }
    }

    pt_port_turning_t2_cruisers_and_destroyers_spawns_off{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        objectExists{
          target:t="@pt_turning_spawns_cruisers_squad_name"
          type:t="squad"
        }

        objectExists{
          target:t="@pt_turning_spawns_destroyers_squad_name"
          type:t="squad"
        }
      }

      actions{

        comment{
          value:t="est~' spavny krejserov i esmincev ubivaem ih"
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_cruisers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_cruisers_squad_name"
          team:t="B"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            none_can_spawn:b=yes
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_destroyers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_destroyers_squad_name"
          team:t="B"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            none_can_spawn:b=yes
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }

        systemLog{
          value:t="@pt_turning_spawns_cruisers_squad_name"
          logtype:t="screen_and_log"
        }

        systemLog{
          value:t="is off by pt_port_turning_t2_cruisers_and_destroyers_spawns_off"
          logtype:t="screen_and_log"
        }

        systemLog{
          value:t=" "
          logtype:t="screen_and_log"
        }
      }

      else_actions{

        comment{
          value:t="net takih spavnov. pryachem defoltnye"
        }

        triggerEnable{
          target:t="pt_port_turning_t2_default_spawns_off"
        }
      }
    }

    pt_port_turning_t2_default_spawns_off{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{
      }

      actions{

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_squad_name"
          team:t="B"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            none_can_spawn:b=yes
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }
      }

      else_actions{
      }
    }

    pt_port_turning_t1_cruisers_and_destroyers_spawns_on{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        objectExists{
          target:t="@pt_turning_spawns_cruisers_squad_name"
          type:t="squad"
        }

        objectExists{
          target:t="@pt_turning_spawns_destroyers_squad_name"
          type:t="squad"
        }
      }

      actions{

        comment{
          value:t="est~' spavny krejserov i esmincev vklyuchaem ih"
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_cruisers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_cruisers_squad_name"
          team:t="A"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=no
            type_destroyer:b=no
            type_light_cruiser:b=yes
            type_heavy_cruiser:b=yes
            type_battlecruiser:b=yes
            type_battleship:b=yes
          }
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_destroyers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_destroyers_squad_name"
          team:t="A"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            none_can_spawn:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=yes
            type_light_cruiser:b=no
            type_heavy_cruiser:b=no
            type_battlecruiser:b=no
            type_battleship:b=no
          }
        }

        systemLog{
          value:t="@pt_turning_spawns_cruisers_squad_name"
          logtype:t="screen_and_log"
        }

        systemLog{
          value:t="is on by pt_port_turning_t1_cruisers_and_destroyers_spawns_on"
          logtype:t="screen_and_log"
        }

        systemLog{
          value:t=" "
          logtype:t="screen_and_log"
        }
      }

      else_actions{

        comment{
          value:t="net takih spavnov. pryachem defoltnye"
        }

        triggerEnable{
          target:t="pt_port_turning_t1_default_spawns_on"
        }
      }
    }

    pt_port_turning_t1_default_spawns_on{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{
      }

      actions{

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_squad_name"
          team:t="A"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            none_can_spawn:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=yes
          }
        }
      }

      else_actions{
      }
    }

    pt_port_turning_t2_cruisers_and_destroyers_spawns_on{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        objectExists{
          target:t="@pt_turning_spawns_cruisers_squad_name"
          type:t="squad"
        }

        objectExists{
          target:t="@pt_turning_spawns_destroyers_squad_name"
          type:t="squad"
        }
      }

      actions{

        comment{
          value:t="est~' spavny krejserov i esmincev vklyuchaem ih"
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_cruisers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_cruisers_squad_name"
          team:t="B"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=no
            type_destroyer:b=no
            type_light_cruiser:b=yes
            type_heavy_cruiser:b=yes
            type_battlecruiser:b=yes
            type_battleship:b=yes
          }
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_destroyers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_destroyers_squad_name"
          team:t="B"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            none_can_spawn:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=yes
            type_light_cruiser:b=no
            type_heavy_cruiser:b=no
            type_battlecruiser:b=no
            type_battleship:b=no
          }
        }

        systemLog{
          value:t="@pt_turning_spawns_cruisers_squad_name"
          logtype:t="screen_and_log"
        }

        systemLog{
          value:t="is on by pt_port_turning_t2_cruisers_and_destroyers_spawns_on"
          logtype:t="screen_and_log"
        }

        systemLog{
          value:t=" "
          logtype:t="screen_and_log"
        }
      }

      else_actions{

        comment{
          value:t="net takih spavnov. pryachem defoltnye"
        }

        triggerEnable{
          target:t="pt_port_turning_t2_default_spawns_on"
        }
      }
    }

    pt_port_turning_t2_default_spawns_on{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{
      }

      actions{

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_turning_spawns_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_turning_spawns_squad_name"
          team:t="B"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            none_can_spawn:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=yes
          }
        }
      }

      else_actions{
      }
    }

    pt_port_turning_restore_timer_change{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{
      }

      actions{

        varModify{
          operator:t="add"
          value:r=-1.0
          var:t="@pt_port_turning_restore_timer_var_name"
        }

        triggerEnable{
          target:t="pt_port_turning_restore_timer_check"
        }
      }

      else_actions{
      }
    }

    pt_port_turning_restore_timer_check{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="@pt_port_turning_restore_timer_var_name"
          value:i=0
          comparasion_func:t="more"
        }
      }

      actions{

        comment{
          value:t="tajmer eshche ne zakonchilsya. idem dal~'she po ciklu"
        }

        triggerEnable{
          target:t="pt_ports_turning_rotator"
        }
      }

      else_actions{

        comment{
          value:t="vystavlyaem tajmer v defoltnoe znachenie"
        }

        comment{
          value:t="vosstanavlivaem yunit"
        }

        varSetInt{
          value:i=0
          var:t="@pt_port_turning_restore_timer_var_name"
          input_var:t="pt_port_default_restore_time"
        }

        triggerEnable{
          target:t="pt_port_turning_restore_defenders_damaged"
        }
      }
    }

    pt_port_turning_restore_defenders_damaged{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenCountMatches{
          object_type:t="damaged"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          func:t="more"
          value:i=0
          object:t="@pt_port_turning_defenders_squad_name"
        }
      }

      actions{

        comment{
          value:t="est~' povrezhdennyj"
        }

        comment{
          value:t="idem dal~'she po ciklu"
        }

        systemLog{
          value:t="cannon restore"
          logtype:t="screen_and_log"
        }

        systemLog{
          value:t="@pt_port_turning_defenders_squad_name"
          logtype:t="screen_and_log"
        }

        unitRestore{
          ressurectIfDead:b=yes
          fullRestore:b=yes
          target_marking:i=0
          target:t="@pt_port_turning_defenders_squad_name"
          randomTargetsCount:i=1
          useForTriggerFiltered:b=yes
        }

        triggerEnable{
          target:t="pt_ports_turning_rotator"
        }
      }

      else_actions{

        comment{
          value:t="net povrezhdennyh. proveryaem ubityh"
        }

        triggerEnable{
          target:t="pt_ports_turning_rotator"
        }

        __triggerEnable{
          target:t="pt_port_turning_restore_defenders_killed"
        }

        __systemLog{
          value:t="cannons not damaged:"
          logtype:t="screen_and_log"
        }

        __systemLog{
          value:t="@pt_port_turning_defenders_squad_name"
          logtype:t="screen_and_log"
        }

        __systemLog{
          value:t=" "
          logtype:t="screen_and_log"
        }
      }
    }

    pt_port_turning_restore_defenders_killed{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenCountMatches{
          object_type:t="isKilled"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          func:t="more"
          value:i=0
          object:t="@pt_port_turning_defenders_squad_name"
        }
      }

      actions{

        comment{
          value:t="est~' ubityj"
        }

        comment{
          value:t="idem dal~'she po ciklu"
        }

        unitRestore{
          ressurectIfDead:b=yes
          fullRestore:b=yes
          target_marking:i=0
          target:t="@pt_port_turning_defenders_squad_name"
          randomTargetsCount:i=1
          useForTriggerFiltered:b=yes
        }

        triggerEnable{
          target:t="pt_ports_turning_rotator"
        }
      }

      else_actions{

        comment{
          value:t="net povrezhdennyh. ide mdal~'she po ciklu"
        }

        triggerEnable{
          target:t="pt_ports_turning_rotator"
        }

        systemLog{
          value:t="cannons not killed:"
          logtype:t="screen_and_log"
        }

        systemLog{
          value:t="@pt_port_turning_defenders_squad_name"
          logtype:t="screen_and_log"
        }

        systemLog{
          value:t=" "
          logtype:t="screen_and_log"
        }
      }
    }

    pt_port_turning_t1_players_t1_count{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        unitWhenInArea{
          math:t="3D"
          object_type:t="isTeamA"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          check_objects:t="any"
          object:t="all_ships_squad"
          object:t="all_players_squad"
          target:t="@pt_turning_capture_area_name"
        }

        unitWhenInArea{
          math:t="3D"
          object_type:t="isActive"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          check_objects:t="any"
          object:t="all_ships_squad"
          object:t="all_players_squad"
          target:t="@pt_turning_capture_area_name"
        }
      }

      actions{

        getUnitsCount{
          target:t="all_ships_squad"
          target:t="all_players_squad"
          target_type:t="isOnGround"
          useForTriggerFiltered:b=yes
          var:t="pt_t1_port_units_t1_count"
        }

        comment{
          value:t=""
        }

        triggerEnable{
          target:t="pt_port_turning_t1_players_t2_count"
        }
      }

      else_actions{

        varSetInt{
          value:i=0
          var:t="pt_t1_port_units_t1_count"
        }

        comment{
          value:t=""
        }

        triggerEnable{
          target:t="pt_port_turning_t1_players_t2_count"
        }
      }
    }

    pt_port_turning_t1_players_t2_count{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        unitWhenInArea{
          math:t="3D"
          object_type:t="isTeamB"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          check_objects:t="any"
          object:t="all_ships_squad"
          object:t="all_players_squad"
          target:t="@pt_turning_capture_area_name"
        }

        unitWhenInArea{
          math:t="3D"
          object_type:t="isActive"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          check_objects:t="any"
          object:t="all_ships_squad"
          object:t="all_players_squad"
          target:t="@pt_turning_capture_area_name"
        }
      }

      actions{

        getUnitsCount{
          target:t="all_ships_squad"
          target:t="all_players_squad"
          target_type:t="isOnGround"
          useForTriggerFiltered:b=yes
          var:t="pt_t1_port_units_t2_count"
        }

        comment{
          value:t=""
        }

        triggerEnable{
          target:t="pt_port_turning_t1_enemy_final_check"
        }
      }

      else_actions{

        varSetInt{
          value:i=0
          var:t="pt_t1_port_units_t2_count"
        }

        comment{
          value:t=""
        }

        triggerEnable{
          target:t="pt_port_turning_t1_enemy_final_check"
        }
      }
    }

    pt_port_turning_t2_players_t1_count{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        unitWhenInArea{
          math:t="3D"
          object_type:t="isTeamA"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          check_objects:t="any"
          object:t="all_ships_squad"
          object:t="all_players_squad"
          target:t="@pt_turning_capture_area_name"
        }

        unitWhenInArea{
          math:t="3D"
          object_type:t="isActive"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          check_objects:t="any"
          object:t="all_ships_squad"
          object:t="all_players_squad"
          target:t="@pt_turning_capture_area_name"
        }
      }

      actions{

        getUnitsCount{
          target:t="all_ships_squad"
          target:t="all_players_squad"
          target_type:t="isOnGround"
          useForTriggerFiltered:b=yes
          var:t="pt_t2_port_units_t1_count"
        }

        comment{
          value:t=""
        }

        triggerEnable{
          target:t="pt_port_turning_t2_players_t2_count"
        }

        systemLog{
          value:t="t1 units count is "
          logtype:t="screen_and_log"
        }

        systemLog{
          value:t="@pt_t2_port_units_t1_count"
          logtype:t="screen_and_log"
        }
      }

      else_actions{

        varSetInt{
          value:i=0
          var:t="pt_t2_port_units_t1_count"
        }

        comment{
          value:t=""
        }

        triggerEnable{
          target:t="pt_port_turning_t2_players_t2_count"
        }
      }
    }

    pt_port_turning_t2_players_t2_count{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        unitWhenInArea{
          math:t="3D"
          object_type:t="isTeamB"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          check_objects:t="any"
          object:t="all_ships_squad"
          object:t="all_players_squad"
          target:t="@pt_turning_capture_area_name"
        }

        unitWhenInArea{
          math:t="3D"
          object_type:t="isActive"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          check_objects:t="any"
          object:t="all_ships_squad"
          object:t="all_players_squad"
          target:t="@pt_turning_capture_area_name"
        }
      }

      actions{

        getUnitsCount{
          target:t="all_ships_squad"
          target:t="all_players_squad"
          target_type:t="isOnGround"
          useForTriggerFiltered:b=yes
          var:t="pt_t2_port_units_t2_count"
        }

        comment{
          value:t=""
        }

        triggerEnable{
          target:t="pt_port_turning_t2_enemy_final_check"
        }

        systemLog{
          value:t="t2 units count is "
          logtype:t="screen_and_log"
        }

        systemLog{
          value:t="@pt_t2_port_units_t2_count"
          logtype:t="screen_and_log"
        }
      }

      else_actions{

        varSetInt{
          value:i=0
          var:t="pt_t2_port_units_t2_count"
        }

        comment{
          value:t=""
        }

        triggerEnable{
          target:t="pt_port_turning_t2_enemy_final_check"
        }
      }
    }

    pt_port_turning_t1_enemy_final_check{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ANY"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        missionIsZoneCaptured{
          target:t="@pt_turning_capture_area_name"
          army:i=0
        }

        varCompareInt{
          var_value:t="pt_t1_port_units_t2_count"
          value:i=0
          comparasion_func:t="more"
          var_value_other:t="pt_t1_port_units_t1_count"
        }
      }

      actions{

        comment{
          value:t="igroki v zone. pryachem spavn"
        }

        comment{
          value:t="proveryaem spavn samoletov"
        }

        comment{
          value:t="idem dal~'she po ciklu"
        }

        triggerEnable{
          target:t="pt_port_turning_t1_cruisers_and_destroyers_spawns_off"
        }

        triggerEnable{
          target:t="pt_port_turning_t1_enemy_at_zone_air_spawn"
        }

        triggerEnable{
          target:t="pt_ports_turning_rotator"
        }

        wait{
          time:r=3.0
        }
      }

      else_actions{

        comment{
          value:t="vragov net ryadom. proveryaem ne nado li vklyuchit~' spavny"
        }

        triggerEnable{
          target:t="pt_port_turning_t1_enemy_leave_zone"
        }
      }
    }

    pt_port_turning_t2_enemy_final_check{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ANY"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        missionIsZoneCaptured{
          target:t="@pt_turning_capture_area_name"
          army:i=0
        }

        varCompareInt{
          var_value:t="pt_t2_port_units_t1_count"
          value:i=0
          comparasion_func:t="more"
          var_value_other:t="pt_t2_port_units_t2_count"
        }
      }

      actions{

        comment{
          value:t="igroki v zone. pryachem spavn"
        }

        comment{
          value:t="proveryaem spavn samoletov"
        }

        comment{
          value:t="idem dal~'she po ciklu"
        }

        triggerEnable{
          target:t="pt_port_turning_t2_cruisers_and_destroyers_spawns_off"
        }

        triggerEnable{
          target:t="pt_port_turning_t2_enemy_at_zone_air_spawn"
        }

        triggerEnable{
          target:t="pt_ports_turning_rotator"
        }

        wait{
          time:r=3.0
        }
      }

      else_actions{

        comment{
          value:t="vragov net ryadom. proveryaem ne nado li vklyuchit~' spavny"
        }

        triggerEnable{
          target:t="pt_port_turning_t2_enemy_leave_zone"
        }
      }
    }
  }

  pt_ports_generate_size{
    isCategory:b=yes
    is_enabled:b=yes

    pt_generate_size_t1_start{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{
      }

      actions{

        varSetInt{
          value:i=0
          var:t="pt_generate_size_t1_idx"
        }

        triggerEnable{
          target:t="pt_generate_size_t1_rotator"
        }
      }

      else_actions{
      }
    }

    pt_generate_size_t1_rotator{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_size_t1_idx"
          value:i=0
          comparasion_func:t="less"
          var_value_other:t="pt_port_max_num"
        }
      }

      actions{

        comment{
          value:t="indeks vnutri diapazona, prodolzhaem rabotu"
        }

        comment{
          value:t="sozdaem imya peremennoj armii"
        }

        comment{
          value:t="poluchaem znachenie armii"
        }

        comment{
          value:t="proveryaem prinadlezhit li port pervoj armii"
        }

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_generate_size_t1_idx"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_generate_size_t1_army_var_name"
        }

        varAddString{
          value:t="@pt_generate_size_t1_idx"
          digits:i=2
          var:t="pt_generate_size_t1_army_var_name"
        }

        varAddString{
          value:t="_army"
          digits:i=0
          var:t="pt_generate_size_t1_army_var_name"
        }

        varSetInt{
          value:i=0
          var:t="pt_generate_size_t1_army_idx"
          input_var:t="@pt_generate_size_t1_army_var_name"
        }

        triggerEnable{
          target:t="pt_generate_size_t1_check_army"
        }
      }

      else_actions{

        comment{
          value:t="indeks vyshel za diapazon. zapuskaem generezhku korablej"
        }

        triggerEnable{
          target:t="pt_generate_ships_t1_start"
          target:t="pt_generate_ships_t2_start"
        }
      }
    }

    pt_generate_size_t1_check_army{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_size_t1_army_idx"
          value:i=1
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="port prinadlezhit armii 1. mozhem generirovat~' razmer"
        }

        comment{
          value:t="sozdaem imya peremennoj gde harnitsya razmer porta"
        }

        comment{
          value:t="sohranyaem razmer porta"
        }

        comment{
          value:t="zapuskaem poisk pervogo porta bez razmera dlya armii 2"
        }

        varSetRandomInt{
          var:t="pt_generate_size_t1_dimension"
          from:i=2
          to_not_including:i=5
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_generate_size_t1_dimension_var_name"
        }

        varAddString{
          value:t="@pt_generate_size_t1_idx"
          digits:i=2
          var:t="pt_generate_size_t1_dimension_var_name"
        }

        varAddString{
          value:t="_size"
          digits:i=2
          var:t="pt_generate_size_t1_dimension_var_name"
        }

        varSetInt{
          value:i=0
          var:t="@pt_generate_size_t1_dimension_var_name"
          input_var:t="pt_generate_size_t1_dimension"
        }

        triggerEnable{
          target:t="pt_generate_size_t2_start"
        }
      }

      else_actions{

        comment{
          value:t="port ne prinadlezhit armii 1. idem dal~'she po ciklu"
        }

        triggerEnable{
          target:t="pt_generate_size_t1_rotator"
        }
      }
    }

    pt_generate_size_t2_start{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{
      }

      actions{

        varSetInt{
          value:i=0
          var:t="pt_generate_size_t2_idx"
        }

        triggerEnable{
          target:t="pt_generate_size_t2_rotator"
        }
      }

      else_actions{
      }
    }

    pt_generate_size_t2_rotator{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_size_t2_idx"
          value:i=0
          comparasion_func:t="less"
          var_value_other:t="pt_port_max_num"
        }
      }

      actions{

        comment{
          value:t="indeks vnutri diapazona. prodolzhaem rabotu"
        }

        comment{
          value:t="sozdaem imya peremennoj armii"
        }

        comment{
          value:t="poluchaem znachenie armii"
        }

        comment{
          value:t="proveryaem prinadlezhit li port pervoj armii"
        }

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_generate_size_t2_idx"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_generate_size_t2_army_var_name"
        }

        varAddString{
          value:t="@pt_generate_size_t2_idx"
          digits:i=2
          var:t="pt_generate_size_t2_army_var_name"
        }

        varAddString{
          value:t="_army"
          digits:i=0
          var:t="pt_generate_size_t2_army_var_name"
        }

        varSetInt{
          value:i=0
          var:t="pt_generate_size_t2_army_idx"
          input_var:t="@pt_generate_size_t2_army_var_name"
        }

        triggerEnable{
          target:t="pt_generate_size_t2_check_army"
        }
      }

      else_actions{

        comment{
          value:t="vozvrashchaemsya v osnovnoj cikl armii A"
        }

        triggerEnable{
          target:t="pt_generate_size_t1_rotator"
        }
      }
    }

    pt_generate_size_t2_check_army{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_size_t2_army_idx"
          value:i=2
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="port prinadlezhit armii 2. nado proverit~' pustoj-li razmer"
        }

        comment{
          value:t="sozdaem imya peremennoj gde harnitsya razmer porta"
        }

        comment{
          value:t="proveryaem nulevoj-li razmer porta"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_generate_size_t2_dimension_var_name"
        }

        varAddString{
          value:t="@pt_generate_size_t2_idx"
          digits:i=2
          var:t="pt_generate_size_t2_dimension_var_name"
        }

        varAddString{
          value:t="_size"
          digits:i=2
          var:t="pt_generate_size_t2_dimension_var_name"
        }

        triggerEnable{
          target:t="pt_generate_size_t2_check_size"
        }
      }

      else_actions{

        comment{
          value:t="port ne prinadlezhit armii 2. idem dal~'she po ciklu"
        }

        triggerEnable{
          target:t="pt_generate_size_t2_rotator"
        }
      }
    }

    pt_generate_size_t2_check_size{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="@pt_generate_size_t2_dimension_var_name"
          value:i=0
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="znachenie razmera porat 0 - mozhno rabotat~'"
        }

        comment{
          value:t="naznachaem portu tot-zhe razmer chto u armii A"
        }

        comment{
          value:t="vozvrashchaemsya v osnovnoj cikla armii A"
        }

        varSetInt{
          value:i=0
          var:t="@pt_generate_size_t2_dimension_var_name"
          input_var:t="pt_generate_size_t1_dimension"
        }

        triggerEnable{
          target:t="pt_generate_size_t1_rotator"
        }
      }

      else_actions{

        comment{
          value:t="znachenie razmera porta ne 0 - idem dal~'she po ciklu"
        }

        triggerEnable{
          target:t="pt_generate_size_t2_rotator"
        }
      }
    }
  }

  pt_ports_generate_ships{
    isCategory:b=yes
    is_enabled:b=yes

    pt_generate_ships_t1_start{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{
      }

      actions{

        varSetInt{
          value:i=0
          var:t="pt_generate_ship_t1_cur_idx"
          var:t="pt_generate_ship_t1_spawn_idx"
        }

        triggerEnable{
          target:t="pt_generate_ships_t1_rotator"
        }
      }

      else_actions{
      }
    }

    pt_generate_ships_t1_rotator{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_ship_t1_cur_idx"
          value:i=0
          comparasion_func:t="less"
          var_value_other:t="pt_port_max_num"
        }
      }

      actions{

        comment{
          value:t="indeks vnutri diapazona, mozhem rabotat~'"
        }

        comment{
          value:t="sozdaem imya peremennoj armii porta"
        }

        comment{
          value:t="sozdaem imya porta"
        }

        comment{
          value:t="proveryaem armiyu porta"
        }

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_generate_ship_t1_cur_idx"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_generate_ship_t1_port_army_var_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_generate_ship_t1_port_area_name"
        }

        varAddString{
          value:t="@pt_generate_ship_t1_cur_idx"
          digits:i=2
          var:t="pt_generate_ship_t1_port_army_var_name"
        }

        varAddString{
          value:t="_army"
          digits:i=2
          var:t="pt_generate_ship_t1_port_army_var_name"
        }

        varAddString{
          value:t="@pt_generate_ship_t1_cur_idx"
          digits:i=2
          var:t="pt_generate_ship_t1_port_area_name"
        }

        triggerEnable{
          target:t="pt_generate_ships_t1_check_army"
        }
      }

      else_actions{

        comment{
          value:t="indeks vne diapazona, zavershaem generaciyu"
        }

        triggerEnable{
          target:t="pt_generate_ships_t1_end"
        }
      }
    }

    pt_generate_ships_t1_check_army{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="@pt_generate_ship_t1_port_army_var_name"
          value:i=1
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="sozdaem imya peremennoj razmera porta"
        }

        comment{
          value:t="poluchaem razmer porta"
        }

        comment{
          value:t="delim razmer popopolam, chtoby poluchit~' aktual~'noe kolichestvo korablej"
        }

        comment{
          value:t="zapuskaem rotaciyu poiska spavnov"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_generate_ship_t1_port_size_var_name"
        }

        varAddString{
          value:t="@pt_generate_ship_t1_cur_idx"
          digits:i=2
          var:t="pt_generate_ship_t1_port_size_var_name"
        }

        varAddString{
          value:t="_size"
          digits:i=2
          var:t="pt_generate_ship_t1_port_size_var_name"
        }

        varSetInt{
          value:i=0
          var:t="pt_generate_ship_t1_max_ships_num"
          input_var:t="@pt_generate_ship_t1_port_size_var_name"
        }

        varModify{
          operator:t="divAB"
          value:r=2.0
          var:t="pt_generate_ship_t1_max_ships_num"
        }

        triggerEnable{
          target:t="pt_generate_ships_t1_spawns_start"
        }
      }

      else_actions{

        comment{
          value:t="ne ta armiya. idem dal~'she po ciklu"
        }

        triggerEnable{
          target:t="pt_generate_ships_t1_rotator"
        }
      }
    }

    pt_generate_ships_t1_spawns_start{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{
      }

      actions{

        comment{
          value:t="zapuskaem generaciyu korablej v portu"
        }

        comment{
          value:t="zapuskaem rotaciyu"
        }

        varSetInt{
          value:i=0
          var:t="pt_generate_ship_t1_spawn_idx"
        }

        triggerEnable{
          target:t="pt_generate_ships_t1_spawns_rotator"
        }
      }

      else_actions{
      }
    }

    pt_generate_ships_t1_spawns_rotator{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_ship_t1_spawn_idx"
          value:i=0
          comparasion_func:t="less"
          var_value_other:t="pt_generate_ship_t1_max_ships_num"
        }
      }

      actions{

        comment{
          value:t="indeks v diapazone"
        }

        comment{
          value:t="sozdaem imya spavna"
        }

        comment{
          value:t="spavnim korabl~'"
        }

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_generate_ship_t1_spawn_idx"
        }

        varSetString{
          value:t="port_"
          var:t="pt_generate_ship_t1_spawn_name"
        }

        varAddString{
          value:t="@pt_generate_ship_t1_cur_idx"
          digits:i=2
          var:t="pt_generate_ship_t1_spawn_name"
        }

        varAddString{
          value:t="_ai_spawn_"
          digits:i=0
          var:t="pt_generate_ship_t1_spawn_name"
        }

        varAddString{
          value:t="@pt_generate_ship_t1_spawn_idx"
          digits:i=2
          var:t="pt_generate_ship_t1_spawn_name"
        }

        triggerEnable{
          target:t="pt_generate_ships_t1_spawn_place_cruiser"
        }
      }

      else_actions{

        comment{
          value:t="indeks vyshel za diapazon. markiruem korabli"
        }

        triggerEnable{
          target:t="pt_generate_ships_t1_spawn_mark_ships"
        }
      }
    }

    pt_generate_ships_t1_spawn_place_cruiser{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_ship_t1_spawn_idx"
          value:i=1
          comparasion_func:t="equal"
        }

        varCompareInt{
          var_value:t="pt_generate_ship_t1_max_ships_num"
          value:i=2
          comparasion_func:t="more"
        }
      }

      actions{

        comment{
          value:t="first index is for cruiser only if port size > 2"
        }

        comment{
          value:t="idem dal~'she po ciklu spavna"
        }

        unitRespawn{
          delay:r=1.0
          offset:p3=0.0, 0.0, 0.0
          object:t="pt_t1_cruisers_squad"
          object_type:t="isInactive"
          target:t="@pt_generate_ship_t1_spawn_name"
          randomObjectsCount:i=1
          resetFormation:b=yes

          formation{
            formation_type:t="rows"
            formation_div:i=2
            formation_step:p2=12.0, 3.0
            formation_noise:p2=0.3, 0.2
          }
        }

        triggerEnable{
          target:t="pt_generate_ships_t1_spawns_rotator"
        }
      }

      else_actions{

        comment{
          value:t="time to spawn destroyers"
        }

        triggerEnable{
          target:t="pt_generate_ships_t1_spawn_place_destroyer"
        }
      }
    }

    pt_generate_ships_t1_spawn_place_destroyer{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{
      }

      actions{

        comment{
          value:t="destroyers spawn"
        }

        comment{
          value:t="idem dal~'she po ciklu spavna"
        }

        unitRespawn{
          delay:r=1.0
          offset:p3=0.0, 0.0, 0.0
          object:t="pt_t1_destroyers_squad"
          object_type:t="isInactive"
          target:t="@pt_generate_ship_t1_spawn_name"
          randomObjectsCount:i=1
          resetFormation:b=yes

          formation{
            formation_type:t="rows"
            formation_div:i=2
            formation_step:p2=12.0, 3.0
            formation_noise:p2=0.3, 0.2
          }
        }

        triggerEnable{
          target:t="pt_generate_ships_t1_spawns_rotator"
        }
      }

      else_actions{
      }
    }

    pt_generate_ships_t1_spawn_mark_ships{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenInArea{
          math:t="2D"
          object_type:t="isActive"
          object_marking:i=0
          object_var_name:t="home_port"
          object_var_comp_op:t="equal"
          check_objects:t="any"
          object:t="pt_t1_destroyers_squad"
          object:t="pt_t1_cruisers_squad"
          target:t="@pt_generate_ship_t1_port_area_name"
        }
      }

      actions{

        comment{
          value:t="korabli otspavnilis~'. markiruem ih indeksom porta"
        }

        comment{
          value:t="idem dal~'she po osnovnomu ciklu"
        }

        unitSetVar{
          object_var_name:t="home_port"
          object:t="pt_t1_destroyers_squad"
          object:t="pt_t1_cruisers_squad"
          useForTriggerFiltered:b=yes
          input_var:t="pt_generate_ship_t1_cur_idx"
        }

        unitSetProperties{
          object:t="pt_t1_destroyers_squad"
          object:t="pt_t1_cruisers_squad"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          object_var_value:i=0
          accuracy:r=0.9
          gndAccuracy:r=0.1
          airAccuracy:r=0.3
          checkVisibilityTarget:b=yes
          effShootingRate:r=0.1
          airEffShootingRate:r=0.5
          shipTurnRadius:r=500.0
          enableShipCollisionAvoidance:b=yes
          advancedCollisionAvoidance:b=yes
          fireRandom:b=yes
          targetChangeInterval:r=5.0
          targetChangeProb:r=0.25
        }

        triggerEnable{
          target:t="pt_generate_ships_t1_rotator"
        }
      }

      else_actions{

        comment{
          value:t="korabli ne otspavnilis~'. idem dal~'she po osnovnomu ciklu"
        }

        triggerEnable{
          target:t="pt_generate_ships_t1_rotator"
        }
      }
    }

    pt_generate_ships_t2_start{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{
      }

      actions{

        varSetInt{
          value:i=0
          var:t="pt_generate_ship_t2_cur_idx"
          var:t="pt_generate_ship_t2_spawn_idx"
        }

        triggerEnable{
          target:t="pt_generate_ships_t2_rotator"
        }
      }

      else_actions{
      }
    }

    pt_generate_ships_t2_rotator{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_ship_t2_cur_idx"
          value:i=0
          comparasion_func:t="less"
          var_value_other:t="pt_port_max_num"
        }
      }

      actions{

        comment{
          value:t="indeks vnutri diapazona, mozhem rabotat~'"
        }

        comment{
          value:t="sozdaem imya peremennoj armii porta"
        }

        comment{
          value:t="sozdaem imya porta"
        }

        comment{
          value:t="proveryaem armiyu porta"
        }

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_generate_ship_t2_cur_idx"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_generate_ship_t2_port_army_var_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_generate_ship_t2_port_area_name"
        }

        varAddString{
          value:t="@pt_generate_ship_t2_cur_idx"
          digits:i=2
          var:t="pt_generate_ship_t2_port_army_var_name"
        }

        varAddString{
          value:t="_army"
          digits:i=2
          var:t="pt_generate_ship_t2_port_army_var_name"
        }

        varAddString{
          value:t="@pt_generate_ship_t2_cur_idx"
          digits:i=2
          var:t="pt_generate_ship_t2_port_area_name"
        }

        triggerEnable{
          target:t="pt_generate_ships_t2_check_army"
        }
      }

      else_actions{

        comment{
          value:t="indeks vne diapazona, zavershaem generaciyu"
        }

        triggerEnable{
          target:t="pt_generate_ships_t2_end"
        }
      }
    }

    pt_generate_ships_t2_check_army{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="@pt_generate_ship_t2_port_army_var_name"
          value:i=2
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="sozdaem imya peremennoj razmera porta"
        }

        comment{
          value:t="poluchaem razmer porta"
        }

        comment{
          value:t="delim razmer popopolam, chtoby poluchit~' aktual~'noe kolichestvo korablej"
        }

        comment{
          value:t="zapuskaem rotaciyu poiska spavnov"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_generate_ship_t2_port_size_var_name"
        }

        varAddString{
          value:t="@pt_generate_ship_t2_cur_idx"
          digits:i=2
          var:t="pt_generate_ship_t2_port_size_var_name"
        }

        varAddString{
          value:t="_size"
          digits:i=2
          var:t="pt_generate_ship_t2_port_size_var_name"
        }

        varSetInt{
          value:i=0
          var:t="pt_generate_ship_t2_max_ships_num"
          input_var:t="@pt_generate_ship_t2_port_size_var_name"
        }

        varModify{
          operator:t="divAB"
          value:r=2.0
          var:t="pt_generate_ship_t2_max_ships_num"
        }

        triggerEnable{
          target:t="pt_generate_ships_t2_spawns_start"
        }
      }

      else_actions{

        comment{
          value:t="ne ta armiya. idem dal~'she po ciklu"
        }

        triggerEnable{
          target:t="pt_generate_ships_t2_rotator"
        }
      }
    }

    pt_generate_ships_t2_spawns_start{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{
      }

      actions{

        comment{
          value:t="zapuskaem generaciyu korablej v portu"
        }

        comment{
          value:t="zapuskaem rotaciyu"
        }

        varSetInt{
          value:i=0
          var:t="pt_generate_ship_t2_spawn_idx"
        }

        triggerEnable{
          target:t="pt_generate_ships_t2_spawns_rotator"
        }
      }

      else_actions{
      }
    }

    pt_generate_ships_t2_spawns_rotator{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_ship_t2_spawn_idx"
          value:i=0
          comparasion_func:t="less"
          var_value_other:t="pt_generate_ship_t2_max_ships_num"
        }
      }

      actions{

        comment{
          value:t="indeks v diapazone"
        }

        comment{
          value:t="sozdaem imya spavna"
        }

        comment{
          value:t="spavnim korabl~'"
        }

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_generate_ship_t2_spawn_idx"
        }

        varSetString{
          value:t="port_"
          var:t="pt_generate_ship_t2_spawn_name"
        }

        varAddString{
          value:t="@pt_generate_ship_t2_cur_idx"
          digits:i=2
          var:t="pt_generate_ship_t2_spawn_name"
        }

        varAddString{
          value:t="_ai_spawn_"
          digits:i=0
          var:t="pt_generate_ship_t2_spawn_name"
        }

        varAddString{
          value:t="@pt_generate_ship_t2_spawn_idx"
          digits:i=2
          var:t="pt_generate_ship_t2_spawn_name"
        }

        triggerEnable{
          target:t="pt_generate_ships_t2_spawn_place_cruiser"
        }
      }

      else_actions{

        comment{
          value:t="indeks vyshel za diapazon. vmarkiruem korabli"
        }

        triggerEnable{
          target:t="pt_generate_ships_t2_spawn_mark_ships"
        }
      }
    }

    pt_generate_ships_t2_spawn_place_cruiser{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_generate_ship_t2_spawn_idx"
          value:i=1
          comparasion_func:t="equal"
        }

        varCompareInt{
          var_value:t="pt_generate_ship_t2_max_ships_num"
          value:i=2
          comparasion_func:t="more"
        }
      }

      actions{

        comment{
          value:t="first index is for cruiser only if port size > 2"
        }

        comment{
          value:t="idem dal~'she po ciklu spavna"
        }

        unitRespawn{
          delay:r=1.0
          offset:p3=0.0, 0.0, 0.0
          object:t="pt_t2_cruisers_squad"
          object_type:t="isInactive"
          target:t="@pt_generate_ship_t2_spawn_name"
          randomObjectsCount:i=1
          resetFormation:b=yes

          formation{
            formation_type:t="rows"
            formation_div:i=2
            formation_step:p2=12.0, 3.0
            formation_noise:p2=0.3, 0.2
          }
        }

        triggerEnable{
          target:t="pt_generate_ships_t2_spawns_rotator"
        }
      }

      else_actions{

        comment{
          value:t="time to spawn destroyers"
        }

        triggerEnable{
          target:t="pt_generate_ships_t2_spawn_place_destroyer"
        }
      }
    }

    pt_generate_ships_t2_spawn_place_destroyer{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{
      }

      actions{

        comment{
          value:t="spavnim korabl~'"
        }

        comment{
          value:t="idem dal~'she po ciklu spavna"
        }

        unitRespawn{
          delay:r=1.0
          offset:p3=0.0, 0.0, 0.0
          object:t="pt_t2_destroyers_squad"
          object_type:t="isInactive"
          target:t="@pt_generate_ship_t2_spawn_name"
          randomObjectsCount:i=1
          resetFormation:b=yes

          formation{
            formation_type:t="rows"
            formation_div:i=2
            formation_step:p2=12.0, 3.0
            formation_noise:p2=0.3, 0.2
          }
        }

        triggerEnable{
          target:t="pt_generate_ships_t2_spawns_rotator"
        }
      }

      else_actions{
      }
    }

    pt_generate_ships_t2_spawn_mark_ships{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenInArea{
          math:t="2D"
          object_type:t="isActive"
          object_marking:i=0
          object_var_name:t="home_port"
          object_var_comp_op:t="equal"
          check_objects:t="any"
          object:t="pt_t2_destroyers_squad"
          target:t="@pt_generate_ship_t2_port_area_name"
        }
      }

      actions{

        comment{
          value:t="korabli otspavnilis~'. markiruem ih indeksom porta"
        }

        comment{
          value:t="idem dal~'she po osnovnomu ciklu"
        }

        unitSetVar{
          object_var_name:t="home_port"
          object:t="pt_t2_destroyers_squad"
          useForTriggerFiltered:b=yes
          input_var:t="pt_generate_ship_t2_cur_idx"
        }

        unitSetProperties{
          object:t="pt_t2_destroyers_squad"
          object:t="pt_t2_cruisers_squad"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          object_var_value:i=0
          accuracy:r=0.9
          gndAccuracy:r=0.1
          airAccuracy:r=0.3
          checkVisibilityTarget:b=yes
          effShootingRate:r=0.1
          airEffShootingRate:r=0.5
          shipTurnRadius:r=500.0
          enableShipCollisionAvoidance:b=yes
          advancedCollisionAvoidance:b=yes
          fireRandom:b=yes
          targetChangeInterval:r=5.0
          targetChangeProb:r=0.25
        }

        triggerEnable{
          target:t="pt_generate_ships_t2_rotator"
        }
      }

      else_actions{

        comment{
          value:t="korabli ne otspavnilis~'. idem dal~'she po osnovnomu ciklu"
        }

        triggerEnable{
          target:t="pt_generate_ships_t2_rotator"
        }
      }
    }

    pt_generate_ships_t1_end{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{
      }

      actions{

        comment{
          value:t="kaunter raven 0. uvelichivaem kaunter na 1"
        }

        comment{
          value:t=""
        }

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_generates_ship_end_counter"
        }

        triggerEnable{
          target:t="pt_init_end"
        }
      }

      else_actions{
      }
    }

    pt_generate_ships_t2_end{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{
      }

      actions{

        comment{
          value:t="kaunter raven 0. uvelichivaem kaunter na 1"
        }

        comment{
          value:t=""
        }

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_generates_ship_end_counter"
        }

        triggerEnable{
          target:t="pt_init_end"
        }
      }

      else_actions{
      }
    }
  }

  pt_ports_ships_destroy{
    isCategory:b=yes
    is_enabled:b=yes

    pt_ports_ships_t1_counter{
      is_enabled:b=yes
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ANY"
        enableAfterComplete:b=yes
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenKilled{
          target:t="pt_t1_destroyers_squad"
        }

        unitWhenKilled{
          target:t="pt_t1_cruisers_squad"
        }
      }

      actions{

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_ai_ships_dead_t1_count"
        }

        unitSetVar{
          object_var_name:t="home_port"
          object:t="pt_t1_destroyers_squad"
          object:t="pt_t1_cruisers_squad"
          useForTriggerFiltered:b=yes
          object_var_value:i=0
        }

        unitSetVar{
          object_var_name:t="attack_port"
          object:t="pt_t1_destroyers_squad"
          object:t="pt_t1_cruisers_squad"
          useForTriggerFiltered:b=yes
          object_var_value:i=0
        }

        unitSetVar{
          object_var_name:t="reinforcement_forces"
          object:t="pt_t1_destroyers_squad"
          object:t="pt_t1_cruisers_squad"
          useForTriggerFiltered:b=yes
          object_var_value:i=0
        }
      }

      else_actions{
      }
    }

    pt_ports_ships_t2_counter{
      is_enabled:b=yes
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ANY"
        enableAfterComplete:b=yes
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenKilled{
          target:t="pt_t2_destroyers_squad"
        }

        unitWhenKilled{
          target:t="pt_t2_cruisers_squad"
        }
      }

      actions{

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_ai_ships_dead_t2_count"
        }

        unitSetVar{
          object_var_name:t="home_port"
          object:t="pt_t2_destroyers_squad"
          object:t="pt_t2_cruisers_squad"
          useForTriggerFiltered:b=yes
          object_var_value:i=0
        }

        unitSetVar{
          object_var_name:t="attack_port"
          object:t="pt_t2_destroyers_squad"
          object:t="pt_t2_cruisers_squad"
          useForTriggerFiltered:b=yes
          object_var_value:i=0
        }

        unitSetVar{
          object_var_name:t="reinforcement_forces"
          object:t="pt_t2_destroyers_squad"
          object:t="pt_t2_cruisers_squad"
          useForTriggerFiltered:b=yes
          object_var_value:i=0
        }
      }

      else_actions{
      }
    }
  }

  pt_ports_attack_port{
    isCategory:b=yes
    is_enabled:b=yes

    pt_attack_port_start{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="pt_attack_is_active"
          value:b=no
          comparasion_func:t="equal"
        }
      }

      actions{

        varSetInt{
          value:i=0
          var:t="pt_attack_port_cur_idx"
        }

        __varSetBool{
          value:b=yes
          var:t="pt_attack_is_active"
        }

        triggerEnable{
          target:t="pt_attack_port_start_delayed"
        }
      }

      else_actions{

        triggerEnable{
          target:t="pt_attack_port_restarting"
        }
      }
    }

    pt_attack_port_start_delayed{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=30.0
        }
      }

      conditions{
      }

      actions{

        varSetInt{
          value:i=0
          var:t="pt_attack_port_cur_idx"
        }

        triggerEnable{
          target:t="pt_attack_port_rotator"
        }
      }

      else_actions{
      }
    }

    pt_attack_port_rotator{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_attack_port_cur_idx"
          value:i=0
          comparasion_func:t="less"
          var_value_other:t="pt_port_max_num"
        }
      }

      actions{

        varSetRandomInt{
          var:t="pt_attack_port_cur_idx"
          from:i=0
          to_not_including:i=10
          var_to_not_including:t="pt_port_max_num"
        }

        comment{
          value:t="indeks porta vnutri diapazona. rabotaem"
        }

        comment{
          value:t="sozdaem peremennuyu, hranyashchuyu armiyu porta"
        }

        comment{
          value:t="sozdaem peremennuyu, hranyashchuyu razmer porta"
        }

        comment{
          value:t="sozdaem imya zony porta"
        }

        comment{
          value:t="vychislyaem kolichestvo korablej, neobhodimoe dlya ataki"
        }

        comment{
          value:t="proveryaem kolichestvo korablej, privyazannyh k portu v zone porta"
        }

        __varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_attack_port_cur_idx"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_attack_port_army_var_name"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_attack_port_size_var_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_attack_port_area_name"
        }

        varAddString{
          value:t="@pt_attack_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_army_var_name"
        }

        varAddString{
          value:t="_army"
          digits:i=0
          var:t="pt_attack_port_army_var_name"
        }

        varAddString{
          value:t="@pt_attack_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_size_var_name"
        }

        varAddString{
          value:t="_size"
          digits:i=0
          var:t="pt_attack_port_size_var_name"
        }

        varAddString{
          value:t="@pt_attack_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_area_name"
        }

        varSetInt{
          value:i=0
          var:t="pt_attack_port_check_ships_num"
          input_var:t="@pt_attack_port_size_var_name"
        }

        varModify{
          operator:t="divAB"
          value:r=4.0
          var:t="pt_attack_port_check_ships_num"
        }

        triggerEnable{
          target:t="pt_attack_port_ships_check"
        }
      }

      else_actions{

        comment{
          value:t="indeks vyshel za predel diapazona"
        }

        varSetBool{
          value:b=no
          var:t="pt_attack_is_active"
        }

        triggerEnable{
          target:t="pt_attack_port_restarting"
        }
      }
    }

    pt_attack_port_ships_check{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenInArea{
          math:t="2D"
          object_type:t="isUnitVar"
          object_marking:i=0
          object_var_name:t="home_port"
          object_var_comp_op:t="equal"
          check_objects:t="any"
          object:t="pt_all_ships_squad"
          target:t="@pt_attack_port_area_name"
          input_var:t="pt_attack_port_cur_idx"
        }
      }

      actions{

        comment{
          value:t="nahodim vseh yunitov, kto prinadlezhit portu i nahoditsya v akvatorii porta"
        }

        comment{
          value:t="proveryaem kolichestvo korablej"
        }

        unitSetVar{
          object_var_name:t="attack_port"
          object:t="pt_all_ships_squad"
          useForTriggerFiltered:b=yes
          object_var_value:i=1
        }

        triggerEnable{
          target:t="pt_attack_port_ships_check_count"
        }
      }

      else_actions{

        comment{
          value:t="nikogo net, idem dal~'she po ciklu"
        }

        triggerEnable{
          target:t="pt_attack_port_rotator"
        }
      }
    }

    pt_attack_port_ships_check_count{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenCountMatches{
          object_type:t="isUnitVar"
          object_marking:i=2
          object_var_name:t="attack_port"
          object_var_comp_op:t="equal"
          func:t="more"
          value:i=1
          object:t="pt_all_ships_squad"
          object_var_value:i=1
        }
      }

      actions{

        comment{
          value:t="kolichestvo korablej bol~'she minimuma dlya ataki. zapuskaem poisk porta dlya ataki"
        }

        triggerEnable{
          target:t="pt_attack_port_search_target"
        }
      }

      else_actions{

        comment{
          value:t="kolichestvo korablej men~'she nuzhnogo kolichestva. ubiraem markirovku"
        }

        triggerEnable{
          target:t="pt_attack_port_search_remove_marking"
        }
      }
    }

    pt_attack_port_search_target{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{
      }

      actions{

        comment{
          value:t="vybiraem sluchajnyj port"
        }

        comment{
          value:t="pribavlyaem 1, chtoby poluchit~' pravil~'nyj ideks (1-6)"
        }

        comment{
          value:t="sobiraem peremennuyu, hranyashchuyu armiyu porta"
        }

        comment{
          value:t="sozdaem imya peremennoj hranyashchej dostupnost~' ataki"
        }

        comment{
          value:t="proveryaem  dostupnost~' komandy"
        }

        varSetRandomInt{
          var:t="pt_attack_port_target_idx"
          from:i=0
          to_not_including:i=10
          var_to_not_including:t="pt_port_max_num"
        }

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_attack_port_target_idx"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_attack_port_target_army_var_name"
        }

        varSetString{
          value:t="pt_attack_port_t"
          var:t="pt_attack_port_is_active_var_name"
        }

        varAddString{
          value:t="@pt_attack_port_target_idx"
          digits:i=2
          var:t="pt_attack_port_target_army_var_name"
        }

        varAddString{
          value:t="_army"
          digits:i=0
          var:t="pt_attack_port_target_army_var_name"
        }

        varAddString{
          value:t=""
          digits:i=1
          var:t="pt_attack_port_is_active_var_name"
          input_var:t="@pt_attack_port_army_var_name"
        }

        varAddString{
          value:t="_is_active"
          digits:i=0
          var:t="pt_attack_port_is_active_var_name"
        }

        triggerEnable{
          target:t="pt_attack_port_search_busy_check"
        }
      }

      else_actions{
      }
    }

    pt_attack_port_search_busy_check{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="@pt_attack_port_is_active_var_name"
          value:b=no
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="komanda ne atakuet. mozhno prodolzhat~'"
        }

        triggerEnable{
          target:t="pt_attack_port_search_army_check"
        }
      }

      else_actions{

        comment{
          value:t="komanda atakuet. idem dal~'she po ciklu"
        }

        triggerEnable{
          target:t="pt_attack_port_search_remove_marking"
        }
      }
    }

    pt_attack_port_search_remove_marking{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenCountMatches{
          object_type:t="isUnitVar"
          object_marking:i=2
          object_var_name:t="attack_port"
          object_var_comp_op:t="equal"
          func:t="more"
          value:i=0
          object:t="pt_all_ships_squad"
          object_var_value:i=1
        }
      }

      actions{

        comment{
          value:t="ubiraem markirovku korablej i idem dal~'she po ciklu"
        }

        unitSetVar{
          object_var_name:t="attack_port"
          object:t="pt_all_ships_squad"
          useForTriggerFiltered:b=yes
          object_var_value:i=0
        }

        triggerEnable{
          target:t="pt_attack_port_rotator"
        }
      }

      else_actions{

        comment{
          value:t="net markirovannyh korablej . prosto idem dal~'she po ciklu"
        }

        triggerEnable{
          target:t="pt_attack_port_rotator"
        }
      }
    }

    pt_attack_port_search_army_check{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="@pt_attack_port_army_var_name"
          value:i=0
          comparasion_func:t="notEqual"
          var_value_other:t="@pt_attack_port_target_army_var_name"
        }
      }

      actions{

        comment{
          value:t="porty raznyh armij. sozdaem imya routa"
        }

        comment{
          value:t="sozdaem imya tochki nachala routa"
        }

        comment{
          value:t="sozdaem imya porta kotoryj nado zahvatit~'"
        }

        comment{
          value:t="naznachaem route"
        }

        varSetString{
          value:t="port_way_"
          var:t="pt_attack_port_route_name"
        }

        varSetString{
          value:t="port_way_"
          var:t="pt_attack_port_route_start_point"
        }

        varSetString{
          value:t="port_"
          var:t="pt_attack_port_target_area_name"
        }

        varAddString{
          value:t="@pt_attack_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_route_name"
        }

        varAddString{
          value:t="_"
          digits:i=0
          var:t="pt_attack_port_route_name"
        }

        varAddString{
          value:t="@pt_attack_port_target_idx"
          digits:i=2
          var:t="pt_attack_port_route_name"
        }

        varAddString{
          value:t="@pt_attack_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_route_start_point"
        }

        varAddString{
          value:t="_"
          digits:i=0
          var:t="pt_attack_port_route_start_point"
        }

        varAddString{
          value:t="@pt_attack_port_target_idx"
          digits:i=2
          var:t="pt_attack_port_route_start_point"
        }

        varAddString{
          value:t="_start"
          digits:i=0
          var:t="pt_attack_port_route_start_point"
        }

        varAddString{
          value:t="@pt_attack_port_target_idx"
          digits:i=2
          var:t="pt_attack_port_target_area_name"
        }

        triggerEnable{
          target:t="pt_attack_port_setting_route"
        }
      }

      else_actions{

        comment{
          value:t="porty odinakovyh armij. ishchem dal~'she"
        }

        triggerEnable{
          target:t="pt_attack_port_search_target"
        }
      }
    }

    pt_attack_port_setting_route{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenCountMatches{
          object_type:t="isUnitVar"
          object_marking:i=0
          object_var_name:t="attack_port"
          object_var_comp_op:t="equal"
          func:t="more"
          value:i=0
          object:t="pt_all_ships_squad"
          object_var_value:i=1
        }
      }

      actions{

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_attack_port_squad_idx"
        }

        varSetString{
          value:t="attack_squad_"
          var:t="pt_attack_port_squad_name"
        }

        varAddString{
          value:t="@pt_attack_port_squad_idx"
          digits:i=2
          var:t="pt_attack_port_squad_name"
        }

        makeSquadFromUnits{
          name:t="@pt_attack_port_squad_name"
          object_marking:i=0
          object:t="pt_all_ships_squad"
          object_var_name:t=""
          object_var_comp_op:t="equal"
          object_var_value:i=0
          useForTriggerFiltered:b=yes
        }

        comment{
          value:t="proveryaem chto vse zhivy"
        }

        triggerEnable{
          target:t="pt_attack_port_check_is_alive"
        }
      }

      else_actions{
      }
    }

    pt_attack_port_check_is_alive{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenCountMatches{
          object_type:t="isActive"
          object_marking:i=0
          object_var_name:t="attack_port"
          object_var_comp_op:t="equal"
          func:t="more"
          value:i=0
          object:t="@pt_attack_port_squad_name"
        }
      }

      actions{

        comment{
          value:t="naznachaem route"
        }

        comment{
          value:t="govorim chto yunit v atake"
        }

        comment{
          value:t="govorim, chto komanda nachala ataku"
        }

        setHeadSquad{
          name:t="@pt_attack_port_squad_name"
          removeOnKill:b=yes
          followLowestSpeed:b=yes
          useCurrentFormation:b=yes
          object:t="pt_all_ships_squad"
          useForTriggerFiltered:b=yes
        }

        unitSetRoute{
          route:t="@pt_attack_port_route_name"
          object_var_name:t=""
          object_var_comp_op:t="equal"
          teleportToStart:b=no
          object:t="@pt_attack_port_squad_name"
          object_type:t="isActive"
          pos:t="@pt_attack_port_route_start_point"
        }

        unitSetVar{
          object_var_name:t="attack_port"
          object:t="@pt_attack_port_squad_name"
          useForTriggerFiltered:b=yes
          object_var_value:i=2
        }

        unitSetVar{
          object_var_name:t="home_port"
          object:t="@pt_attack_port_squad_name"
          useForTriggerFiltered:b=yes
          object_var_value:i=0
        }

        unitSetVar{
          object_var_name:t="reinforcement_forces"
          object:t="@pt_attack_port_squad_name"
          object_var_value:i=0
        }

        unitSetIndication{
          target_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          object_var_value:i=0
          set:b=yes
          target:t="@pt_attack_port_squad_name"
        }

        triggerEnable{
          target:t="pt_attack_port_busy_set"
        }
      }

      else_actions{

        comment{
          value:t="skvad mertv"
        }

        triggerEnable{
          target:t="pt_attack_port_search_remove_marking"
        }
      }
    }

    pt_attack_port_busy_set{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="@pt_attack_port_army_var_name"
          value:i=1
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="govorim chto komanda A atakuet"
        }

        comment{
          value:t="sozdaem tochku zahvata"
        }

        comment{
          value:t="daem zadanie"
        }

        varSetBool{
          value:b=yes
          var:t="pt_attack_port_t1_is_active"
          var:t="pt_attack_is_active"
        }

        varSetInt{
          value:i=0
          var:t="pt_attack_port_capture_port_idx"
          input_var:t="pt_attack_port_target_idx"
        }

        varGetStringValue{
          from_var_name:t="pt_attack_port_target_area_name"
          var:t="pt_attack_port_capture_area_name"
        }

        triggerEnable{
          target:t="pt_attack_port_setting_objective"
        }
      }

      else_actions{

        comment{
          value:t="govorim, chto komanda B atakuet"
        }

        comment{
          value:t="sozdaem tochku zahvata"
        }

        comment{
          value:t="daem zadanie"
        }

        varSetBool{
          value:b=yes
          var:t="pt_attack_port_t2_is_active"
          var:t="pt_attack_is_active"
        }

        varSetInt{
          value:i=0
          var:t="pt_attack_port_capture_t2_port_idx"
          input_var:t="pt_attack_port_target_idx"
        }

        varGetStringValue{
          from_var_name:t="pt_attack_port_target_area_name"
          var:t="pt_attack_port_capture_area_name"
        }

        triggerEnable{
          target:t="pt_attack_port_setting_objective"
        }
      }
    }

    pt_attack_port_setting_objective{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="@pt_attack_port_army_var_name"
          value:i=2
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t=""
        }

        comment{
          value:t=""
        }

        comment{
          value:t=""
        }

        moAddMissionObjective{
          target:t="pt_t2_assist_attack_port"
          unit_or_area:t="@pt_attack_port_capture_area_name"
          object_marking:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
        }

        moAddMissionObjective{
          target:t="pt_t1_assist_defend_port"
          unit_or_area:t="@pt_attack_port_capture_area_name"
          object_marking:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
        }

        varSetString{
          value:t="port_"
          var:t="pt_attack_t2_port_name"
        }

        varSetString{
          value:t=""
          var:t="pt_attack_t2_attacker_name"
          input_var:t="pt_attack_port_squad_name"
        }

        varAddString{
          value:t="@pt_attack_port_target_idx"
          digits:i=2
          var:t="pt_attack_t2_port_name"
        }

        triggerEnable{
          target:t="pt_attack_port_t2_is_captured"
          target:t="pt_attack_port_t2_npc_destroyed"
        }
      }

      else_actions{

        comment{
          value:t=""
        }

        comment{
          value:t=""
        }

        comment{
          value:t=""
        }

        moAddMissionObjective{
          target:t="pt_t1_assist_attack_port"
          unit_or_area:t="@pt_attack_port_capture_area_name"
          object_marking:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
        }

        moAddMissionObjective{
          target:t="pt_t2_assist_defend_port"
          unit_or_area:t="@pt_attack_port_capture_area_name"
          object_marking:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
        }

        varSetString{
          value:t="port_"
          var:t="pt_attack_t1_port_name"
        }

        varSetString{
          value:t=""
          var:t="pt_attack_t1_attacker_name"
          input_var:t="pt_attack_port_squad_name"
        }

        varAddString{
          value:t="@pt_attack_port_target_idx"
          digits:i=2
          var:t="pt_attack_t1_port_name"
        }

        triggerEnable{
          target:t="pt_attack_port_t1_is_captured"
          target:t="pt_attack_port_t1_npc_destroyed"
        }
      }
    }

    pt_attack_port_t1_timer_reset{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=120.0
        }
      }

      conditions{
      }

      actions{

        varSetBool{
          value:b=no
          var:t="pt_attack_port_t1_is_active"
          var:t="pt_attack_is_active"
        }

        triggerEnable{
          target:t="pt_attack_port_restarting"
        }
      }

      else_actions{
      }
    }

    pt_attack_port_t2_timer_reset{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=120.0
        }
      }

      conditions{
      }

      actions{

        varSetBool{
          value:b=no
          var:t="pt_attack_port_t2_is_active"
          var:t="pt_attack_is_active"
        }

        triggerEnable{
          target:t="pt_attack_port_restarting"
        }
      }

      else_actions{
      }
    }

    pt_attack_port_t1_is_captured{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        missionIsZoneCaptured{
          target:t="@pt_attack_t1_port_name"
          army:i=1
        }
      }

      actions{

        triggerDisable{
          target:t="pt_attack_port_t1_npc_destroyed"
        }

        unitSetIndication{
          target_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          object_var_value:i=0
          set:b=no
          target:t="@pt_attack_t1_attacker_name"
        }

        unitSetVar{
          object_var_name:t="attack_port"
          object:t="@pt_attack_t1_attacker_name"
          object_var_value:i=0
        }

        unitSetVar{
          object_var_name:t="home_port"
          object:t="@pt_attack_t1_attacker_name"
          object_var_value:i=0
          input_var:t="pt_attack_port_capture_port_idx"
        }

        comment{
          value:t="armiya 1 zahvatila port"
        }

        moSetObjectiveStatus{
          target:t="pt_t1_assist_attack_port"
          status:i=2
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          extendedEnding:b=yes
          team:t="A"
        }

        moSetObjectiveStatus{
          target:t="pt_t2_assist_defend_port"
          status:i=3
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          extendedEnding:b=yes
          team:t="B"
        }

        moSetObjectiveStatus{
          target:t="pt_t1_assist_attack_port"
          status:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
        }

        moSetObjectiveStatus{
          target:t="pt_t2_assist_defend_port"
          status:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
        }

        wait{
          time:r=20.0
        }

        triggerEnable{
          target:t="pt_attack_port_t1_timer_reset"
        }
      }

      else_actions{
      }
    }

    pt_attack_port_t2_is_captured{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        missionIsZoneCaptured{
          target:t="@pt_attack_t2_port_name"
          army:i=2
        }
      }

      actions{

        triggerDisable{
          target:t="pt_attack_port_t2_npc_destroyed"
        }

        unitSetIndication{
          target_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          object_var_value:i=0
          set:b=no
          target:t="@pt_attack_t2_attacker_name"
        }

        unitSetVar{
          object_var_name:t="attack_port"
          object:t="@pt_attack_t2_attacker_name"
          object_var_value:i=0
        }

        unitSetVar{
          object_var_name:t="home_port"
          object:t="@pt_attack_t2_attacker_name"
          object_var_value:i=0
          input_var:t="pt_attack_port_capture_port_idx"
        }

        comment{
          value:t="armiya 2 zahvatila port"
        }

        moSetObjectiveStatus{
          target:t="pt_t2_assist_attack_port"
          status:i=2
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          extendedEnding:b=yes
          team:t="A"
        }

        moSetObjectiveStatus{
          target:t="pt_t1_assist_defend_port"
          status:i=3
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          extendedEnding:b=yes
          team:t="B"
        }

        moSetObjectiveStatus{
          target:t="pt_t2_assist_attack_port"
          status:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
        }

        moSetObjectiveStatus{
          target:t="pt_t1_assist_defend_port"
          status:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
        }

        wait{
          time:r=20.0
        }

        triggerEnable{
          target:t="pt_attack_port_t2_timer_reset"
        }
      }

      else_actions{
      }
    }

    pt_attack_port_t1_npc_destroyed{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenCountMatches{
          object_type:t="isActive"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          func:t="less"
          value:i=1
          object:t="@pt_attack_t1_attacker_name"
        }
      }

      actions{

        triggerDisable{
          target:t="pt_attack_port_t1_is_captured"
        }

        comment{
          value:t="ubity vse korabli attakery"
        }

        moSetObjectiveStatus{
          target:t="pt_t1_assist_attack_port"
          status:i=3
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          extendedEnding:b=yes
          team:t="A"
        }

        moSetObjectiveStatus{
          target:t="pt_t2_assist_defend_port"
          status:i=2
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          extendedEnding:b=yes
          team:t="B"
        }

        moSetObjectiveStatus{
          target:t="pt_t1_assist_attack_port"
          status:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
        }

        moSetObjectiveStatus{
          target:t="pt_t2_assist_defend_port"
          status:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
        }

        triggerEnable{
          target:t="t2_moderate_task_completed"
        }

        triggerEnable{
          target:t="pt_attack_port_t1_timer_reset"
        }

        wait{
          time:r=20.0
        }
      }

      else_actions{
      }
    }

    pt_attack_port_t2_npc_destroyed{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenCountMatches{
          object_type:t="isActive"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          func:t="less"
          value:i=1
          object:t="@pt_attack_t2_attacker_name"
        }
      }

      actions{

        triggerDisable{
          target:t="pt_attack_port_t2_is_captured"
        }

        comment{
          value:t="ubity vse korabli attakery"
        }

        moSetObjectiveStatus{
          target:t="pt_t2_assist_attack_port"
          status:i=3
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          extendedEnding:b=yes
          team:t="B"
        }

        moSetObjectiveStatus{
          target:t="pt_t1_assist_defend_port"
          status:i=2
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          extendedEnding:b=yes
          team:t="A"
        }

        moSetObjectiveStatus{
          target:t="pt_t2_assist_attack_port"
          status:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
        }

        moSetObjectiveStatus{
          target:t="pt_t1_assist_defend_port"
          status:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
        }

        triggerEnable{
          target:t="t1_moderate_task_completed"
        }

        triggerEnable{
          target:t="pt_attack_port_t2_timer_reset"
        }

        wait{
          time:r=20.0
        }
      }

      else_actions{
      }
    }

    pt_attack_port_restarting{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=120.0
        }
      }

      conditions{
      }

      actions{

        triggerEnable{
          target:t="pt_attack_port_start"
        }
      }

      else_actions{
      }
    }
  }

  pt_players_count{
    isCategory:b=yes
    is_enabled:b=yes

    pt_players_count_start{
      is_enabled:b=yes
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{
      }

      actions{

        comment{
          value:t="schitaem kolichestvo igrokov v obeih komandah raz v minutu"
        }

        triggerEnable{
          target:t="pt_players_count_t1"
          target:t="pt_players_count_t2"
        }
      }

      else_actions{
      }
    }

    pt_players_count_t1{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=yes
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenCountMatches{
          object_type:t="isOnline"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          func:t="less"
          value:i=1
          object:t="t1_players_squad"
          var:t="pt_ports_players_t1_count"
        }
      }

      actions{

        comment{
          value:t="kolichestvo igrokov men~'she chem znachenie peremennoj"
        }

        varModify{
          operator:t="add"
          value:r=-1.0
          var:t="pt_ports_players_t1_count"
        }
      }

      else_actions{

        comment{
          value:t="kolichestvo igrokov bol~'she peremennoj"
        }

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_ports_players_t1_count"
        }
      }
    }

    pt_players_count_t2{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=yes
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenCountMatches{
          object_type:t="isOnline"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          func:t="less"
          value:i=1
          object:t="t2_players_squad"
          var:t="pt_ports_players_t2_count"
        }
      }

      actions{

        comment{
          value:t="kolichestvo igrokov men~'she chem znachenie peremennoj"
        }

        varModify{
          operator:t="add"
          value:r=-1.0
          var:t="pt_ports_players_t2_count"
        }
      }

      else_actions{

        comment{
          value:t="kolichestvo igrokov bol~'she peremennoj"
        }

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_ports_players_t2_count"
        }
      }
    }
  }

  pt_capture_port{
    isCategory:b=yes
    is_enabled:b=yes

    pt_capture_port_start{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{
      }

      actions{

        varSetInt{
          value:i=0
          var:t="pt_capture_port_cur_idx"
        }

        comment{
          value:t=""
        }

        triggerEnable{
          target:t="pt_capture_port_rotator"
        }
      }

      else_actions{
      }
    }

    pt_capture_port_rotator{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_capture_port_cur_idx"
          value:i=0
          comparasion_func:t="less"
          var_value_other:t="pt_port_max_num"
        }
      }

      actions{

        comment{
          value:t="sozdaem peremennye"
        }

        comment{
          value:t="sozdaem imya zony zahvata"
        }

        comment{
          value:t="sozdaem peremennuyu, hranyashchuyu armiyu porta"
        }

        comment{
          value:t="poluchaem znachenie armii"
        }

        comment{
          value:t=""
        }

        comment{
          value:t=""
        }

        comment{
          value:t="proveryaem armiyu"
        }

        varModify{
          operator:t="add"
          value:r=1.0
          var:t="pt_capture_port_cur_idx"
        }

        varSetString{
          value:t="port_"
          var:t="pt_capture_port_area_name"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_capture_port_army_var_name"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_capture_port_area_name"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_capture_port_army_var_name"
        }

        varAddString{
          value:t="_army"
          digits:i=0
          var:t="pt_capture_port_army_var_name"
        }

        varAddString{
          value:t="_t1_rearm_area"
          digits:i=0
          var:t="pt_capture_port_rearm_t1_area_name"
        }

        varAddString{
          value:t="_t2_rearm_area"
          digits:i=0
          var:t="pt_capture_port_rearm_t2_area_name"
        }

        varSetInt{
          value:i=0
          var:t="pt_capture_port_army_idx"
          input_var:t="@pt_capture_port_army_var_name"
        }

        varGetStringValue{
          from_var_name:t="pt_capture_port_area_name"
          var:t="pt_capture_port_rearm_t1_area_name"
        }

        varGetStringValue{
          from_var_name:t="pt_capture_port_area_name"
          var:t="pt_capture_port_rearm_t2_area_name"
        }

        triggerEnable{
          target:t="pt_capture_port_army_check"
        }
      }

      else_actions{

        comment{
          value:t="restartim proverku"
        }

        triggerEnable{
          target:t="pt_capture_port_start"
        }
      }
    }

    pt_capture_port_army_check{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="pt_capture_port_army_idx"
          value:i=1
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="pervaya armiya. idem proveryat~' na zahvat vtoroj armiej"
        }

        triggerEnable{
          target:t="pt_capture_port_t2_check"
        }
      }

      else_actions{

        comment{
          value:t="vtoraya armiya. idem proveryat~' na zahvat pervoj armiej"
        }

        triggerEnable{
          target:t="pt_capture_port_t1_check"
        }
      }
    }

    pt_capture_port_t1_check{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        missionIsZoneCaptured{
          target:t="@pt_capture_port_area_name"
          army:i=1
        }
      }

      actions{

        varSetString{
          value:t=""
          var:t="pt_real_capture_port_area_name"
          input_var:t="pt_capture_port_area_name"
        }

        triggerEnable{
          target:t="t1_major_task_completed"
        }

        triggerEnable{
          target:t="pt_capture_port_frontline_find"
        }

        comment{
          value:t="menyaem armiyu porta"
        }

        comment{
          value:t="ishchem korabli, atakuyushchie port i menyaem im port pripiski na novyj"
        }

        comment{
          value:t="zahvatyvaem liniyu fronta"
        }

        varSetInt{
          value:i=1
          var:t="@pt_capture_port_army_var_name"
        }

        triggerActivate{
          target:t="pt_capture_port_t1_check_attack_quest"
          activate_type:t="checkConidtions"
          check_trigger_status:b=no
          after_activation:t="disable"
        }
      }

      else_actions{

        comment{
          value:t="idem dal~'she"
        }

        triggerEnable{
          target:t="pt_capture_port_rotator"
        }
      }
    }

    pt_capture_port_t1_check_attack_quest{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareString{
          var_value:t="pt_attack_port_capture_area_name"
          value:t="@pt_capture_port_area_name"
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="est~' kvest na ataku"
        }

        comment{
          value:t=""
        }

        comment{
          value:t=""
        }

        triggerEnable{
          target:t="pt_attack_port_t1_timer_reset"
        }

        triggerEnable{
          target:t="pt_capture_port_t1_change_home_port"
        }

        moSetObjectiveStatus{
          target:t="pt_t1_assist_attack_port"
          status:i=2
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          extendedEnding:b=yes
          team:t="A"
          unit_or_area:t="@pt_attack_port_capture_area_name"
        }

        moSetObjectiveStatus{
          target:t="pt_t2_assist_defend_port"
          status:i=3
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          extendedEnding:b=yes
          team:t="B"
          unit_or_area:t="@pt_attack_port_capture_area_name"
        }

        moSetObjectiveStatus{
          target:t="pt_t1_assist_attack_port"
          status:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          team:t="A"
          unit_or_area:t="@pt_attack_port_capture_area_name"
        }

        moSetObjectiveStatus{
          target:t="pt_t2_assist_defend_port"
          status:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          team:t="B"
          unit_or_area:t="@pt_attack_port_capture_area_name"
        }

        wait{
          time:r=20.0
        }
      }

      else_actions{

        comment{
          value:t="net kvesta na ataku"
        }

        triggerEnable{
          target:t="pt_capture_port_t1_change_home_port"
        }
      }
    }

    pt_capture_port_t1_change_home_port{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{
      }

      actions{

        comment{
          value:t="sozdaem imya defoltnogo skvada so spavn zonami"
        }

        comment{
          value:t="sozdaem imya spavna"
        }

        comment{
          value:t=""
        }

        comment{
          value:t="sozdaem imya krejserskogo skvada so spavn zonami"
        }

        comment{
          value:t="sozdaem imya skvada esmincev so spavn zonami"
        }

        comment{
          value:t=""
        }

        comment{
          value:t="menyaem spavn porta"
        }

        comment{
          value:t=""
        }

        comment{
          value:t="sobiraem defoltnuyu stroku lokalizacii"
        }

        comment{
          value:t="sobiraem stroku lokalizacii dlya krejserov"
        }

        comment{
          value:t="sobiraem stroku lokalizacii dlya esmincev"
        }

        comment{
          value:t=""
        }

        comment{
          value:t="imya zashchitnikov porta"
        }

        comment{
          value:t="menyaem armiyu zashchitnikam"
        }

        comment{
          value:t="stavim peremennuyu vosstanovlenie v defolt"
        }

        comment{
          value:t="imya peremennoj s tajmerom vosstanovleniya zashchitnikov"
        }

        varSetString{
          value:t="port_"
          var:t="pt_attack_port_capture_t1_spawns_squad_name"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_attack_port_capture_t1_port_var_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_attack_port_capture_t1_air_spawns_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_attack_port_capture_t1_cruisers_spawns_squad_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_attack_port_capture_t1_destroyers_spawns_squad_name"
        }

        varSetString{
          value:t="missions/"
          var:t="pt_capture_port_t1_loc_string"
        }

        varSetString{
          value:t="missions/"
          var:t="pt_capture_port_t1_cruisers_loc_string"
        }

        varSetString{
          value:t="missions/"
          var:t="pt_capture_port_t1_destroyers_loc_string"
        }

        varSetString{
          value:t="port_"
          var:t="pt_capture_port_t1_defenders_name"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_capture_port_restore_timer_var_name"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_capture_t1_spawns_squad_name"
        }

        varAddString{
          value:t="_players_spawns_squad"
          digits:i=0
          var:t="pt_attack_port_capture_t1_spawns_squad_name"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_capture_t1_port_var_name"
        }

        varAddString{
          value:t="_name"
          digits:i=2
          var:t="pt_attack_port_capture_t1_port_var_name"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_capture_t1_air_spawns_name"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_capture_t1_cruisers_spawns_squad_name"
        }

        varAddString{
          value:t="_player_cruisers_spawns_squad"
          digits:i=0
          var:t="pt_attack_port_capture_t1_cruisers_spawns_squad_name"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_capture_t1_destroyers_spawns_squad_name"
        }

        varAddString{
          value:t="_player_destroyers_spawns_squad"
          digits:i=0
          var:t="pt_attack_port_capture_t1_destroyers_spawns_squad_name"
        }

        varAddString{
          value:t=""
          digits:i=0
          var:t="pt_capture_port_t1_loc_string"
          input_var:t="pt_attack_port_capture_t1_port_var_name"
        }

        varAddString{
          value:t=""
          digits:i=0
          var:t="pt_capture_port_t1_cruisers_loc_string"
          input_var:t="pt_attack_port_capture_t1_port_var_name"
        }

        varAddString{
          value:t="_cruisers"
          digits:i=0
          var:t="pt_capture_port_t1_cruisers_loc_string"
        }

        varAddString{
          value:t=""
          digits:i=0
          var:t="pt_capture_port_t1_destroyers_loc_string"
          input_var:t="pt_attack_port_capture_t1_port_var_name"
        }

        varAddString{
          value:t="_destroyers"
          digits:i=0
          var:t="pt_capture_port_t1_destroyers_loc_string"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_capture_port_t1_defenders_name"
        }

        varAddString{
          value:t="_defenders"
          digits:i=0
          var:t="pt_capture_port_t1_defenders_name"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_capture_port_restore_timer_var_name"
        }

        varAddString{
          value:t="_restore_timer"
          digits:i=0
          var:t="pt_capture_port_restore_timer_var_name"
        }

        triggerEnable{
          target:t="pt_capture_port_change_ships_home_port"
        }

        triggerEnable{
          target:t="pt_capture_port_t1_change_home_port_cruisers_and_destroyers_check"
        }

        triggerEnable{
          target:t="pt_capture_port_rotator"
        }

        missionMarkAsRearmZone{
          army:i=2
          area_name:t="@pt_capture_port_rearm_t2_area_name"
          enabled:b=no
          restoreWhenNoAmmoLeft:b=no
          hideMarkers:b=yes

          tags{
            type_hydroplane:b=yes
          }

          repair_tags{
            type_hydroplane:b=yes
          }
        }

        missionMarkAsRearmZone{
          army:i=1
          area_name:t="@pt_capture_port_rearm_t1_area_name"
          enabled:b=yes
          restoreWhenNoAmmoLeft:b=no
          hideMarkers:b=yes

          tags{
            type_hydroplane:b=yes
          }

          repair_tags{
            type_hydroplane:b=yes
          }
        }

        unitSetProperties{
          object:t="@pt_capture_port_t1_defenders_name"
          object_type:t="any"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          object_var_value:i=0
          army:i=1
        }

        varSetInt{
          value:i=0
          var:t="@pt_capture_port_restore_timer_var_name"
          input_var:t="pt_port_default_restore_time"
        }
      }

      else_actions{
      }
    }

    pt_capture_port_t1_change_home_port_cruisers_and_destroyers_check{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        objectExists{
          target:t="@pt_attack_port_capture_t1_cruisers_spawns_squad_name"
          type:t="squad"
        }

        objectExists{
          target:t="@pt_attack_port_capture_t1_destroyers_spawns_squad_name"
          type:t="squad"
        }
      }

      actions{

        comment{
          value:t="spavny est~', menyaem ih"
        }

        triggerEnable{
          target:t="pt_capture_port_t1_change_home_port_cruisers_and_destroyers_respawns"
        }
      }

      else_actions{

        comment{
          value:t="spavnov net - menyaem defoltnye"
        }

        triggerEnable{
          target:t="pt_capture_port_t1_change_home_port_respawns"
        }
      }
    }

    pt_capture_port_t1_change_home_port_respawns{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="pt_ship_spawn_enable"
          value:b=yes
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="menyaem spavn porta"
        }

        comment{
          value:t=""
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_capture_port_t1_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=no
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t1_spawns_squad_name"
          team:t="B"

          tags{
            none_can_spawn:b=yes
          }
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_capture_port_t1_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t1_spawns_squad_name"
          team:t="A"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=yes
          }
        }

        triggerEnable{
          target:t="pt_capture_port_t1_change_home_port_air_respawns"
        }
      }

      else_actions{
      }
    }

    pt_capture_port_t1_change_home_port_cruisers_and_destroyers_respawns{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="pt_ship_spawn_enable"
          value:b=yes
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="menyaem spavn porta"
        }

        comment{
          value:t=""
        }

        comment{
          value:t=""
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_capture_port_t1_cruisers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=no
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t1_cruisers_spawns_squad_name"
          team:t="B"

          tags{
            none_can_spawn:b=yes
          }
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_capture_port_t1_cruisers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t1_cruisers_spawns_squad_name"
          team:t="A"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=no
            type_frigate:b=no
            type_destroyer:b=no
            type_light_cruiser:b=yes
            type_heavy_cruiser:b=yes
            type_battlecruiser:b=yes
            type_battleship:b=yes
          }
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_capture_port_t1_destroyers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=no
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t1_destroyers_spawns_squad_name"
          team:t="B"

          tags{
            none_can_spawn:b=yes
          }
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_capture_port_t1_destroyers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t1_destroyers_spawns_squad_name"
          team:t="A"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=yes
            type_frigate:b=yes
            type_destroyer:b=yes
            type_light_cruiser:b=no
            type_heavy_cruiser:b=no
            type_battlecruiser:b=no
            type_battleship:b=no
          }
        }

        triggerEnable{
          target:t="pt_capture_port_t1_change_home_port_air_respawns"
        }
      }

      else_actions{
      }
    }

    pt_capture_port_t1_change_home_port_air_respawns{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="pt_port_additional_air_spawns"
          value:b=yes
          comparasion_func:t="equal"
        }
      }

      actions{

        varSetString{
          value:t="missions/"
          var:t="pt_attack_port_capture_t1_air_spawns_loc_string"
        }

        varAddString{
          value:t=""
          digits:i=0
          var:t="pt_attack_port_capture_t1_air_spawns_loc_string"
          input_var:t="@pt_attack_port_capture_t1_port_var_name"
        }

        varAddString{
          value:t="_air"
          digits:i=0
          var:t="pt_attack_port_capture_t1_air_spawns_loc_string"
        }

        comment{
          value:t=""
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_attack_port_capture_t1_air_spawns_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=no
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t1_air_spawns_name"
          team:t="B"
          spawnOffset:p3=-3000.0, 2000.0, 0.0

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            none_can_spawn:b=yes
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_attack_port_capture_t1_air_spawns_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=no
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t1_air_spawns_name"
          team:t="A"
          spawnOffset:p3=-3000.0, 2000.0, 0.0

          tags{
            type_bomber:b=yes
            type_fighter:b=yes
            type_assault:b=yes
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }
      }

      else_actions{
      }
    }

    pt_capture_port_t2_check{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        missionIsZoneCaptured{
          target:t="@pt_capture_port_area_name"
          army:i=2
        }
      }

      actions{

        varSetString{
          value:t=""
          var:t="pt_real_capture_port_area_name"
          input_var:t="pt_capture_port_area_name"
        }

        triggerEnable{
          target:t="t2_major_task_completed"
        }

        triggerEnable{
          target:t="pt_capture_port_frontline_find"
        }

        comment{
          value:t="menyaem armiyu porta"
        }

        comment{
          value:t="ishchem korabli, atakuyushchie port i menyaem im port pripiski na novyj"
        }

        comment{
          value:t="zahvatyvaem liniyu fronta"
        }

        varSetInt{
          value:i=2
          var:t="@pt_capture_port_army_var_name"
        }

        triggerActivate{
          target:t="pt_capture_port_t2_check_attack_quest"
          activate_type:t="checkConidtions"
          check_trigger_status:b=no
          after_activation:t="disable"
        }
      }

      else_actions{

        comment{
          value:t="idem dal~'she"
        }

        triggerEnable{
          target:t="pt_capture_port_rotator"
        }
      }
    }

    pt_capture_port_t2_check_attack_quest{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareString{
          var_value:t="pt_attack_port_capture_area_name"
          value:t="@pt_capture_port_area_name"
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="est~' kvest na ataku"
        }

        comment{
          value:t=""
        }

        comment{
          value:t=""
        }

        triggerEnable{
          target:t="pt_attack_port_t2_timer_reset"
        }

        triggerEnable{
          target:t="pt_capture_port_t2_change_home_port"
        }

        moSetObjectiveStatus{
          target:t="pt_t2_assist_attack_port"
          status:i=2
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          extendedEnding:b=yes
          team:t="B"
          unit_or_area:t="@pt_attack_port_capture_area_name"
        }

        moSetObjectiveStatus{
          target:t="pt_t1_assist_defend_port"
          status:i=3
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          extendedEnding:b=yes
          team:t="A"
          unit_or_area:t="@pt_attack_port_capture_area_name"
        }

        moSetObjectiveStatus{
          target:t="pt_t2_assist_attack_port"
          status:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          team:t="B"
          unit_or_area:t="@pt_attack_port_capture_area_name"
        }

        moSetObjectiveStatus{
          target:t="pt_t1_assist_defend_port"
          status:i=0
          object_var_comp_op:t="equal"
          object_var_name:t=""
          object_marking:i=0
          team:t="A"
          unit_or_area:t="@pt_attack_port_capture_area_name"
        }

        wait{
          time:r=20.0
        }
      }

      else_actions{

        comment{
          value:t="net kvesta na ataku"
        }

        triggerEnable{
          target:t="pt_capture_port_t2_change_home_port"
        }
      }
    }

    pt_capture_port_t2_change_home_port{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{
      }

      actions{

        comment{
          value:t="sozdaem imya defoltnogo skvada so spavn zonami"
        }

        comment{
          value:t="sozdaem imya spavna"
        }

        comment{
          value:t=""
        }

        comment{
          value:t=""
        }

        comment{
          value:t="menyaem spavn porta"
        }

        comment{
          value:t=""
        }

        comment{
          value:t="sozdaem imya krejserskogo skvada so spavn zonami"
        }

        comment{
          value:t="sozdaem imya skvada esmincev so spavn zonami"
        }

        comment{
          value:t="sobiraem defoltnuyu stroku lokalizacii"
        }

        comment{
          value:t="sobiraem stroku lokalizacii dlya krejserov"
        }

        comment{
          value:t="sobiraem stroku lokalizacii dlya esmincev"
        }

        comment{
          value:t=""
        }

        comment{
          value:t="imya zashchitnikov porta"
        }

        comment{
          value:t="menyaem armiyu zashchitnikam"
        }

        comment{
          value:t="stavim peremennuyu vosstanovlenie v defolt"
        }

        comment{
          value:t="imya peremennoj s tajmerom vosstanovleniya zashchitnikov"
        }

        varSetString{
          value:t="port_"
          var:t="pt_attack_port_capture_t2_spawns_squad_name"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_attack_port_capture_t2_port_var_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_attack_port_capture_t2_air_spawns_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_attack_port_capture_t2_cruisers_spawns_squad_name"
        }

        varSetString{
          value:t="port_"
          var:t="pt_attack_port_capture_t2_destroyers_spawns_squad_name"
        }

        varSetString{
          value:t="missions/"
          var:t="pt_capture_port_t2_loc_string"
        }

        varSetString{
          value:t="missions/"
          var:t="pt_capture_port_t2_cruisers_loc_string"
        }

        varSetString{
          value:t="missions/"
          var:t="pt_capture_port_t2_destroyers_loc_string"
        }

        varSetString{
          value:t="port_"
          var:t="pt_capture_port_t2_defenders_name"
        }

        varSetString{
          value:t="pt_port_"
          var:t="pt_capture_port_restore_timer_var_name"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_capture_t2_spawns_squad_name"
        }

        varAddString{
          value:t="_players_spawns_squad"
          digits:i=0
          var:t="pt_attack_port_capture_t2_spawns_squad_name"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_capture_t2_port_var_name"
        }

        varAddString{
          value:t="_name"
          digits:i=2
          var:t="pt_attack_port_capture_t2_port_var_name"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_capture_t2_air_spawns_name"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_capture_t2_cruisers_spawns_squad_name"
        }

        varAddString{
          value:t="_player_cruisers_spawns_squad"
          digits:i=0
          var:t="pt_attack_port_capture_t2_cruisers_spawns_squad_name"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_attack_port_capture_t2_destroyers_spawns_squad_name"
        }

        varAddString{
          value:t="_player_destroyers_spawns_squad"
          digits:i=0
          var:t="pt_attack_port_capture_t2_destroyers_spawns_squad_name"
        }

        varAddString{
          value:t=""
          digits:i=0
          var:t="pt_capture_port_t2_loc_string"
          input_var:t="pt_attack_port_capture_t2_port_var_name"
        }

        varAddString{
          value:t=""
          digits:i=0
          var:t="pt_capture_port_t2_cruisers_loc_string"
          input_var:t="pt_attack_port_capture_t2_port_var_name"
        }

        varAddString{
          value:t="_cruisers"
          digits:i=0
          var:t="pt_capture_port_t2_cruisers_loc_string"
        }

        varAddString{
          value:t=""
          digits:i=0
          var:t="pt_capture_port_t2_destroyers_loc_string"
          input_var:t="pt_attack_port_capture_t2_port_var_name"
        }

        varAddString{
          value:t="_destroyers"
          digits:i=0
          var:t="pt_capture_port_t2_destroyers_loc_string"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_capture_port_t2_defenders_name"
        }

        varAddString{
          value:t="_defenders"
          digits:i=0
          var:t="pt_capture_port_t2_defenders_name"
        }

        varAddString{
          value:t="@pt_capture_port_cur_idx"
          digits:i=2
          var:t="pt_capture_port_restore_timer_var_name"
        }

        varAddString{
          value:t="_restore_timer"
          digits:i=0
          var:t="pt_capture_port_restore_timer_var_name"
        }

        triggerEnable{
          target:t="pt_capture_port_change_ships_home_port"
        }

        triggerEnable{
          target:t="pt_capture_port_t2_change_home_port_cruisers_and_destroyers_check"
        }

        triggerEnable{
          target:t="pt_capture_port_rotator"
        }

        missionMarkAsRearmZone{
          army:i=1
          area_name:t="@pt_capture_port_rearm_t1_area_name"
          enabled:b=no
          restoreWhenNoAmmoLeft:b=no
          hideMarkers:b=yes

          tags{
            type_hydroplane:b=yes
          }

          repair_tags{
            type_hydroplane:b=yes
          }
        }

        missionMarkAsRearmZone{
          army:i=2
          area_name:t="@pt_capture_port_rearm_t2_area_name"
          enabled:b=yes
          restoreWhenNoAmmoLeft:b=no
          hideMarkers:b=yes

          tags{
            type_hydroplane:b=yes
          }

          repair_tags{
            type_hydroplane:b=yes
          }
        }

        unitSetProperties{
          object:t="@pt_capture_port_t2_defenders_name"
          object_type:t="any"
          object_marking:i=0
          object_var_name:t=""
          object_var_comp_op:t="equal"
          object_var_value:i=0
          army:i=2
        }

        varSetInt{
          value:i=0
          var:t="@pt_capture_port_restore_timer_var_name"
          input_var:t="pt_port_default_restore_time"
        }
      }

      else_actions{
      }
    }

    pt_capture_port_t2_change_home_port_cruisers_and_destroyers_check{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        objectExists{
          target:t="@pt_attack_port_capture_t2_cruisers_spawns_squad_name"
          type:t="squad"
        }

        objectExists{
          target:t="@pt_attack_port_capture_t2_destroyers_spawns_squad_name"
          type:t="squad"
        }
      }

      actions{

        comment{
          value:t="spavny est~', menyaem ih"
        }

        triggerEnable{
          target:t="pt_capture_port_t2_change_home_port_cruisers_and_destroyers_respawns"
        }
      }

      else_actions{

        comment{
          value:t="spavnov net - menyaem defoltnye"
        }

        triggerEnable{
          target:t="pt_capture_port_t2_change_home_port_respawns"
        }
      }
    }

    pt_capture_port_t2_change_home_port_respawns{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="pt_ship_spawn_enable"
          value:b=yes
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="menyaem spavn porta"
        }

        comment{
          value:t=""
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_attack_port_capture_t2_port_var_name"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=no
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t2_spawns_squad_name"
          team:t="A"

          tags{
            none_can_spawn:b=yes
          }
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_attack_port_capture_t2_port_var_name"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t2_spawns_squad_name"
          team:t="B"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=yes
          }
        }

        triggerEnable{
          target:t="pt_capture_port_t2_change_home_port_air_respawns"
        }
      }

      else_actions{
      }
    }

    pt_capture_port_t2_change_home_port_cruisers_and_destroyers_respawns{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="pt_ship_spawn_enable"
          value:b=yes
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="menyaem spavn porta"
        }

        comment{
          value:t=""
        }

        comment{
          value:t=""
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_capture_port_t2_cruisers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=no
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t2_cruisers_spawns_squad_name"
          team:t="A"

          tags{
            none_can_spawn:b=yes
          }
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_capture_port_t2_cruisers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t2_cruisers_spawns_squad_name"
          team:t="B"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=no
            type_frigate:b=no
            type_destroyer:b=no
            type_light_cruiser:b=yes
            type_heavy_cruiser:b=yes
            type_battlecruiser:b=yes
            type_battleship:b=yes
          }
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_capture_port_t2_destroyers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=no
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t2_destroyers_spawns_squad_name"
          team:t="A"

          tags{
            none_can_spawn:b=yes
          }
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_capture_port_t2_destroyers_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=yes
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t2_destroyers_spawns_squad_name"
          team:t="B"

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            helicopter:b=no
            tank:b=no
            ship:b=yes
            boat:b=yes
            type_frigate:b=yes
            type_destroyer:b=yes
            type_light_cruiser:b=no
            type_heavy_cruiser:b=no
            type_battlecruiser:b=no
            type_battleship:b=no
          }
        }

        triggerEnable{
          target:t="pt_capture_port_t2_change_home_port_air_respawns"
        }
      }

      else_actions{
      }
    }

    pt_capture_port_t2_change_home_port_air_respawns{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=0.0
        }
      }

      conditions{

        varCompareBool{
          var_value:t="pt_port_additional_air_spawns"
          value:b=yes
          comparasion_func:t="equal"
        }
      }

      actions{

        varSetString{
          value:t="missions/"
          var:t="pt_attack_port_capture_t2_air_spawns_loc_string"
        }

        varAddString{
          value:t=""
          digits:i=0
          var:t="pt_attack_port_capture_t2_air_spawns_loc_string"
          input_var:t="@pt_attack_port_capture_t2_port_var_name"
        }

        varAddString{
          value:t="_air"
          digits:i=0
          var:t="pt_attack_port_capture_t2_air_spawns_loc_string"
        }

        comment{
          value:t=""
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_attack_port_capture_t2_air_spawns_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=no
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t2_air_spawns_name"
          team:t="A"
          spawnOffset:p3=-3000.0, 2000.0, 0.0

          tags{
            type_bomber:b=no
            type_fighter:b=no
            type_assault:b=no
            none_can_spawn:b=yes
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }

        missionMarkAsRespawnPoint{
          loc_name:t="@pt_attack_port_capture_t2_air_spawns_loc_string"
          spawnEffect:b=no
          isStrictSpawn:b=no
          resetStrictSpawnIndex:b=no
          isAirfield:b=no
          isUnit:b=no
          useExisting:b=yes
          isIndividual:b=no
          onlyOnePlayerPerSpawnPoint:b=no
          removeAreas:b=no
          replaceAreas:b=yes
          canSpawnOnNeutral:b=no
          showOnMap:b=yes
          radius:r=-1.0
          forceCreate:b=no
          ignoreTeamsOnReuse:b=no
          target:t="@pt_attack_port_capture_t2_air_spawns_name"
          team:t="B"
          spawnOffset:p3=-3000.0, 2000.0, 0.0

          tags{
            type_bomber:b=yes
            type_fighter:b=yes
            type_assault:b=yes
            helicopter:b=no
            tank:b=no
            ship:b=no
            boat:b=no
          }
        }
      }

      else_actions{
      }
    }

    pt_capture_port_change_ships_home_port{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        unitWhenCountMatches{
          object_type:t="isUnitVar"
          object_marking:i=0
          object_var_name:t="attack_port"
          object_var_comp_op:t="equal"
          func:t="more"
          value:i=0
          object:t="pt_all_ships_squad"
          object_var_value:i=2
        }
      }

      actions{

        unitSetVar{
          object_var_name:t="home_port"
          object:t="pt_all_ships_squad"
          input_var:t="pt_attack_port_capture_port_idx"
        }

        unitSetVar{
          object_var_name:t="attack_port"
          object:t="pt_all_ships_squad"
          object_var_value:i=0
        }
      }

      else_actions{
      }
    }

    pt_capture_port_frontline_find{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{
      }

      actions{

        getOwnArea{
          name:t="@pt_real_capture_port_area_name"
          template:t="flt_area_"
          out_var:t="pt_port_fronline_name"
        }

        comment{
          value:t="poluchaem imya peremennoj frontlajna armii"
        }

        comment{
          value:t="poluchaem tekushchij indeks armii"
        }

        comment{
          value:t="proveryaem znachenie armii"
        }

        varGetStringValue{
          from_var_name:t="pt_port_fronline_name"
          var:t="pt_port_frontline_army_name"
        }

        varAddString{
          value:t="_state"
          digits:i=0
          var:t="pt_port_frontline_army_name"
        }

        varSetInt{
          value:i=0
          var:t="pt_port_frontline_army_idx"
          input_var:t="@pt_port_frontline_army_name"
        }

        triggerEnable{
          target:t="pt_capture_port_frontline_check_zero_army"
        }
      }

      else_actions{
      }
    }

    pt_capture_port_frontline_check_zero_army{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="@pt_port_frontline_army_name"
          value:i=0
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="armiya sektora 0. nado budet poptom pridumat~' chto delat~'"
        }
      }

      else_actions{

        comment{
          value:t="armiya sektora validnaya. proveryaem komu prinadlezhit sektor"
        }

        triggerEnable{
          target:t="pt_capture_port_frontline_check_army"
        }
      }
    }

    pt_capture_port_frontline_check_army{
      is_enabled:b=no
      comments:t=""

      props{
        actionsType:t="PERFORM_ONE_BY_ONE"
        conditionsType:t="ALL"
        enableAfterComplete:b=no
      }

      events{

        periodicEvent{
          time:r=1.0
        }
      }

      conditions{

        varCompareInt{
          var_value:t="@pt_port_frontline_army_name"
          value:i=1
          comparasion_func:t="equal"
        }
      }

      actions{

        comment{
          value:t="armiya 1 menyaem ee na 2"
        }

        comment{
          value:t="risuem liniyu fronta"
        }

        comment{
          value:t=""
        }

        varSetInt{
          value:i=2
          var:t="@pt_port_frontline_army_name"
        }

        triggerEnable{
          target:t="flt_draw_frontline"
        }

        triggerEnable{
          target:t="ft_capture_t1_start"
          target:t="bdt_capture_t1_start"
        }
      }

      else_actions{

        comment{
          value:t="armiya 2 menyaem ee na 1"
        }

        comment{
          value:t="risuem liniyu fronta"
        }

        comment{
          value:t=""
        }

        varSetInt{
          value:i=1
          var:t="@pt_port_frontline_army_name"
        }

        triggerEnable{
          target:t="flt_draw_frontline"
        }

        triggerEnable{
          target:t="ft_capture_t2_start"
          target:t="bdt_capture_t2_start"
        }
      }
    }
  }
}

mission_objectives{
  isCategory:b=yes
  is_enabled:b=yes

  pt_t1_assist_attack_port{
    is_enabled:b=no
    comments:t=""
    type:t="abstractMissionObjective"

    props{
      isPrimary:b=yes
      timeLimit:i=10800
      team:t="A"
    }

    onSuccess{
    }

    onFailed{
    }
  }

  pt_t2_assist_attack_port{
    is_enabled:b=no
    comments:t=""
    type:t="abstractMissionObjective"

    props{
      isPrimary:b=yes
      timeLimit:i=10800
      team:t="B"
    }

    onSuccess{
    }

    onFailed{
    }
  }

  pt_t1_assist_defend_port{
    is_enabled:b=no
    comments:t=""
    type:t="abstractMissionObjective"

    props{
      isPrimary:b=yes
      timeLimit:i=10800
      team:t="A"
    }

    onSuccess{
    }

    onFailed{
    }
  }

  pt_t2_assist_defend_port{
    is_enabled:b=no
    comments:t=""
    type:t="abstractMissionObjective"

    props{
      isPrimary:b=yes
      timeLimit:i=10800
      team:t="B"
    }

    onSuccess{
    }

    onFailed{
    }
  }
}

variables{
  pt_ai_ships_dead_t1_count:i=0
  pt_ai_ships_dead_t2_count:i=0
  pt_port_max_num:i=6
  pt_ports_num_for_randomizer:i=7
  pt_port_01_name:t=""
  pt_port_02_name:t=""
  pt_port_03_name:t=""
  pt_port_04_name:t=""
  pt_port_05_name:t=""
  pt_port_06_name:t=""
  pt_port_07_name:t=""
  pt_port_08_name:t=""
  pt_port_01_army:i=0
  pt_port_02_army:i=0
  pt_port_03_army:i=0
  pt_port_04_army:i=0
  pt_port_05_army:i=0
  pt_port_06_army:i=0
  pt_port_07_army:i=0
  pt_port_08_army:i=0
  pt_port_01_size:i=0
  pt_port_02_size:i=0
  pt_port_03_size:i=0
  pt_port_04_size:i=0
  pt_port_05_size:i=0
  pt_port_06_size:i=0
  pt_port_07_size:i=0
  pt_port_08_size:i=0
  pt_generate_spawns_cur_idx:i=0
  pt_generate_spawns_army_var_name:t=""
  pt_generate_spawns_army_idx:i=0
  pt_generate_spawns_squad_name:t=""
  pt_generate_spawns_port_var_name:t=""
  pt_generate_size_t1_idx:i=0
  pt_generate_size_t1_dimension_var_name:t=""
  pt_generate_size_t1_dimension:i=0
  pt_generate_size_t1_army_var_name:t=""
  pt_generate_size_t1_army_idx:i=0
  pt_generate_size_t2_idx:i=0
  pt_generate_size_t2_dimension_var_name:t=""
  pt_generate_size_t2_dimension:i=0
  pt_generate_size_t2_army_var_name:t=""
  pt_generate_size_t2_army_idx:i=0
  pt_generate_ship_t1_cur_idx:i=0
  pt_generate_ship_t1_spawn_idx:i=0
  pt_generate_ship_t1_max_ships_num:i=0
  pt_generate_ship_t1_port_area_name:t=""
  pt_generate_ship_t1_spawn_name:t=""
  pt_generate_ship_t1_port_size_var_name:t=""
  pt_generate_ship_t1_port_army_var_name:t=""
  pt_generate_ship_t2_cur_idx:i=0
  pt_generate_ship_t2_spawn_idx:i=0
  pt_generate_ship_t2_max_ships_num:i=0
  pt_generate_ship_t2_port_area_name:t=""
  pt_generate_ship_t2_spawn_name:t=""
  pt_generate_ship_t2_port_size_var_name:t=""
  pt_generate_ship_t2_port_army_var_name:t=""
  b_mission_init_ends:b=no
  pt_generates_ship_end_counter:i=0
  pt_attack_port_cur_idx:i=0
  pt_attack_port_area_name:t=""
  pt_attack_port_army_var_name:t=""
  pt_attack_port_size_var_name:t=""
  pt_attack_port_check_ships_num:i=0
  pt_attack_is_active:b=no
  pt_attack_port_t1_is_active:b=no
  pt_attack_port_t2_is_active:b=no
  pt_attack_port_target_idx:i=0
  pt_attack_port_target_army_var_name:t=""
  pt_attack_port_route_name:t=""
  pt_attack_port_route_start_point:t=""
  pt_attack_port_is_active_var_name:t=""
  pt_attack_port_objectvie_name:t=""
  pt_attack_port_target_area_name:t=""
  pt_attack_port_capture_port_idx:i=0
  pt_attack_port_capture_area_name:t=""
  pt_attack_port_capture_t1_army_var_name:t=""
  pt_attack_port_capture_t1_spawns_squad_name:t=""
  pt_attack_port_capture_t1_port_var_name:t=""
  pt_attack_port_capture_t2_port_idx:i=0
  pt_attack_port_capture_t2_army_var_name:t=""
  pt_attack_port_capture_t2_spawns_squad_name:t=""
  pt_attack_port_capture_t2_port_var_name:t=""
  pt_attack_port_squad_name:t=""
  pt_attack_port_squad_idx:i=0
  pt_generate_spawn_loc_string:t=""
  pt_ship_spawn_enable:b=yes
  pt_ports_players_t1_count:i=0
  pt_ports_players_t2_count:i=0
  pt_ports_reindorcement_t1_additional_ships:i=0
  pt_ports_reindorcement_t2_additional_ships:i=0
  pt_generate_spawn_loc_string_air:t=""
  pt_generate_spawns_port_air_name:t=""
  pt_port_additional_air_spawns:b=no
  pt_attack_port_capture_t1_air_spawns_name:t=""
  pt_attack_port_capture_t2_air_spawns_name:t=""
  pt_attack_port_capture_t1_air_spawns_loc_string:t=""
  pt_attack_port_capture_t2_air_spawns_loc_string:t=""
  pt_generate_capture_area_name:t=""
  pt_turning_spawns_cur_idx:i=0
  pt_turning_spawns_army_var_name:t=""
  pt_turning_spawns_army_idx:i=0
  pt_turning_spawns_squad_name:t=""
  pt_turning_spawns_port_var_name:t=""
  pt_turning_spawns_loc_string:t=""
  pt_turning_spawns_loc_string_air:t=""
  pt_turning_spawns_port_air_name:t=""
  pt_turning_capture_area_name:t=""
  pt_enemy_spawn_t1_cur_port_idx:i=0
  pt_enemy_spawn_t2_cur_port_idx:i=0
  pt_enemy_spawn_t1_cur_port_name:t=""
  pt_enemy_spawn_t2_cur_port_name:t=""
  pt_enemy_spawn_t1_cur_port_army_var_name:t=""
  pt_enemy_spawn_t2_cur_port_army_var_name:t=""
  pt_reinfocement_t1_enemy_spawn_plane_distance:r=0.0
  pt_reinfocement_t2_enemy_spawn_plane_distance:r=0.0
  pt_reinfocement_t1_enemy_spawn_plane_idx:i=0
  pt_reinfocement_t2_enemy_spawn_plane_idx:i=0
  pt_reinfocement_t1_enemy_spawn_plane_name:t=""
  pt_reinfocement_t2_enemy_spawn_plane_name:t=""
  pt_capture_port_cur_idx:i=0
  pt_capture_port_area_name:t=""
  pt_capture_port_army_var_name:t=""
  pt_capture_port_army_idx:i=0
  pt_end_game_when_no_ports:b=no
  pt_port_fronline_name:t=""
  pt_port_frontline_army_name:t=""
  pt_port_frontline_army_idx:i=0
  pt_generate_spawns_cruisers_squad_name:t=""
  pt_generate_spawns_destroyers_squad_name:t=""
  pt_turning_spawns_cruisers_squad_name:t=""
  pt_turning_spawns_destroyers_squad_name:t=""
  pt_generate_spawn_cruisers_loc_string:t=""
  pt_generate_spawn_destroyers_loc_string:t=""
  pt_turning_spawns_cruisers_loc_string:t=""
  pt_turning_spawns_destroyers_loc_string:t=""
  pt_attack_port_capture_t1_cruisers_spawns_squad_name:t=""
  pt_attack_port_capture_t1_destroyers_spawns_squad_name:t=""
  pt_attack_port_capture_t2_cruisers_spawns_squad_name:t=""
  pt_attack_port_capture_t2_destroyers_spawns_squad_name:t=""
  pt_capture_port_t1_loc_string:t=""
  pt_capture_port_t1_cruisers_loc_string:t=""
  pt_capture_port_t1_destroyers_loc_string:t=""
  pt_capture_port_t2_loc_string:t=""
  pt_capture_port_t2_cruisers_loc_string:t=""
  pt_capture_port_t2_destroyers_loc_string:t=""
  pt_generate_rearm_t1_area_name:t=""
  pt_generate_rearm_t2_area_name:t=""
  pt_capture_port_rearm_t1_area_name:t=""
  pt_capture_port_rearm_t2_area_name:t=""
  pt_capture_port_t1_defenders_name:t=""
  pt_capture_port_t2_defenders_name:t=""
  pt_port_01_restore_timer:i=30
  pt_port_02_restore_timer:i=30
  pt_port_03_restore_timer:i=30
  pt_port_04_restore_timer:i=30
  pt_port_05_restore_timer:i=30
  pt_port_06_restore_timer:i=30
  pt_port_07_restore_timer:i=30
  pt_port_08_restore_timer:i=30
  restore_timer:i=30
  pt_port_turning_restore_timer_var_name:t=""
  pt_port_turning_restore_timer_value:i=0
  pt_port_default_restore_time:i=30
  pt_port_turning_defenders_squad_name:t=""
  pt_capture_port_restore_timer_var_name:t=""
  pt_generate_defenders_name:t=""
  pt_attack_t1_port_name:t=""
  pt_attack_t2_port_name:t=""
  pt_attack_t1_attacker_name:t=""
  pt_attack_t2_attacker_name:t=""
  pt_real_capture_port_area_name:t=""
  pt_t1_port_units_t1_count:i=0
  pt_t1_port_units_t2_count:i=0
  pt_t2_port_units_t1_count:i=0
  pt_t2_port_units_t2_count:i=0
  pt_is_launch_alowed:b=no
}

dialogs{
}

airfields{
}

effects{
}

units{
}

areas{
}

objLayers{

  layer{
    enabled:b=yes
  }

  layer{
    enabled:b=yes
  }

  layer{
    enabled:b=yes
  }

  layer{
    enabled:b=yes
  }
}

wayPoints{
}